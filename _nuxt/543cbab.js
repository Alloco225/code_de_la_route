/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{10:function(e,t,r){"use strict";r.d(t,"a",(function(){return Kt})),r.d(t,"b",(function(){return Gt})),r.d(t,"c",(function(){return Ir})),r.d(t,"d",(function(){return jr})),r.d(t,"e",(function(){return Bt})),r.d(t,"f",(function(){return vr})),r.d(t,"g",(function(){return kr}));var n=r(29),o=r(50),c=r(51),l=r(2);class h{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}h.UNAUTHENTICATED=new h(null),h.GOOGLE_CREDENTIALS=new h("google-credentials-uid"),h.FIRST_PARTY=new h("first-party-uid"),h.MOCK_USER=new h("mock-user");let d="10.10.0";const f=new c.b("@firebase/firestore");function m(e,...t){if(f.logLevel<=c.a.DEBUG){const r=t.map(v);f.debug(`Firestore (${d}): ${e}`,...r)}}function y(e,...t){if(f.logLevel<=c.a.ERROR){const r=t.map(v);f.error(`Firestore (${d}): ${e}`,...r)}}function w(e,...t){if(f.logLevel<=c.a.WARN){const r=t.map(v);f.warn(`Firestore (${d}): ${e}`,...r)}}function v(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function _(e="Unexpected state"){const t=`FIRESTORE (${d}) INTERNAL ASSERTION FAILED: `+e;throw y(t),new Error(t)}function k(e,t){e||_()}function S(e,t){return e}const E="cancelled",x="unknown",T="invalid-argument",O="deadline-exceeded",I="not-found",j="permission-denied",p="unauthenticated",A="resource-exhausted",P="failed-precondition",g="aborted",C="out-of-range",R="unimplemented",$="internal",b="unavailable";class D extends l.c{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(h.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class M{constructor(e){this.auth=null,e.onInit((e=>{this.auth=e}))}getToken(){return this.auth?this.auth.getToken().then((e=>e?(k("string"==typeof e.accessToken),new L(e.accessToken,new h(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class F{constructor(e,t,r){this.t=e,this.i=t,this.o=r,this.type="FirstParty",this.user=h.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class V{constructor(e,t,r){this.t=e,this.i=t,this.o=r}getToken(){return Promise.resolve(new F(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable((()=>t(h.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z{constructor(e){this.h=e,this.appCheck=null,e.onInit((e=>{this.appCheck=e}))}getToken(){return this.appCheck?this.appCheck.getToken().then((e=>e?(k("string"==typeof e.token),new B(e.token)):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class H{constructor(e,t,r,n,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u}}class K{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new K("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof K&&e.projectId===this.projectId&&e.database===this.database}}class G{constructor(e,t,r){void 0===t?t=0:t>e.length&&_(),void 0===r?r=e.length-t:r>e.length-t&&_(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===G.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof G?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=e.get(n),i=t.get(n);if(r<i)return-1;if(r>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class J extends G{construct(e,t,r){return new J(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(T,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((e=>e.length>0)))}return new J(t)}static emptyPath(){return new J([])}}const W=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Y extends G{construct(e,t,r){return new Y(e,t,r)}static isValidIdentifier(e){return W.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Y.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Y(["__name__"])}static fromServerFormat(e){const t=[];let r="",n=0;const o=()=>{if(0===r.length)throw new D(T,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let i=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new D(T,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(T,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(i=!i,n++):"."!==t||i?(r+=t,n++):(o(),n++)}if(o(),i)throw new D(T,"Unterminated ` in path: "+e);return new Y(t)}static emptyPath(){return new Y([])}}class X{constructor(e){this.path=e}static fromPath(e){return new X(J.fromString(e))}static fromName(e){return new X(J.fromString(e).popFirst(5))}static empty(){return new X(J.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===J.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return J.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new J(e.slice()))}}function Q(e,t,r){if(!r)throw new D(T,`Function ${e}() cannot be called with an empty ${t}.`)}function Z(e){if(!X.isDocumentKey(e))throw new D(T,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ee(e){if(X.isDocumentKey(e))throw new D(T,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function te(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":_()}function re(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(T,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=te(e);throw new D(T,`Expected type '${t.name}', but it was: ${r}`)}}return e}function ne(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let ie=null;function se(e){return null==e}function oe(e){return 0===e&&1/e==-1/0}const ae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var q,ce;function le(e){if(void 0===e)return y("RPC_ERROR","HTTP error has no status"),x;switch(e){case 200:return"ok";case 400:return P;case 401:return p;case 403:return j;case 404:return I;case 409:return g;case 416:return C;case 429:return A;case 499:return E;case 500:return x;case 501:return R;case 503:return b;case 504:return O;default:return e>=200&&e<300?"ok":e>=400&&e<500?P:e>=500&&e<600?$:x}}(ce=q||(q={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class ue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.m=t+"://"+e.host,this.A=`projects/${r}/databases/${n}`,this.T="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${n}`}get R(){return!1}P(e,t,r,n,i){const s=(null===ie?ie=268435456+Math.round(2147483648*Math.random()):ie++,"0x"+ie.toString(16)),o=this.I(e,t.toUriEncodedString());m("RestConnection",`Sending RPC '${e}' ${s}:`,o,r);const a={"google-cloud-resource-prefix":this.A,"x-goog-request-params":this.T};return this.V(a,n,i),this.p(e,o,a,r).then((t=>(m("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw w("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",r),t}))}g(e,t,r,n,i,s){return this.P(e,t,r,n,i)}V(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,r)=>e[r]=t)),r&&r.headers.forEach(((t,r)=>e[r]=t))}I(e,t){const r=ae[e];return`${this.m}/v1/${t}:${r}`}terminate(){}}{constructor(e,t){super(e),this.F=t}v(e,t){throw new Error("Not supported by FetchConnection")}async p(e,t,r,n){var i;const s=JSON.stringify(n);let o;try{o=await this.F(t,{method:"POST",headers:r,body:s})}catch(e){const t=e;throw new D(le(t.status),"Request failed with error: "+t.statusText)}if(!o.ok){let e=await o.json();Array.isArray(e)&&(e=e[0]);const t=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.message;throw new D(le(o.status),`Request failed with error: ${null!=t?t:o.statusText}`)}return o.json()}}function he(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let t=0;t<e;t++)r[t]=Math.floor(256*Math.random());return r}class de{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let r="";for(;r.length<20;){const n=he(40);for(let i=0;i<n.length;++i)r.length<20&&n[i]<t&&(r+=e.charAt(n[i]%62))}return r}}function fe(e,t){return e<t?-1:e>t?1:0}function pe(e,t,r){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}function ge(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function me(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}class ye extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class be{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ye("Invalid base64 string: "+e):e}}(e);return new be(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new be(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}be.EMPTY_BYTE_STRING=new be("");const we=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ve(e){if(k(!!e),"string"==typeof e){let t=0;const r=we.exec(e);if(k(!!r),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ke(e){return"string"==typeof e?be.fromBase64String(e):be.fromUint8Array(e)}class Se{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(T,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(T,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(T,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(T,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Se(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}function Ee(e){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function xe(e){const t=e.mapValue.fields.__previous_value__;return Ee(t)?xe(t):t}function Te(e){const t=ve(e.mapValue.fields.__local_write_time__.timestampValue);return new Se(t.seconds,t.nanos)}const Oe={fields:{__type__:{stringValue:"__max__"}}};function Ie(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ee(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?9007199254740991:10:_()}function je(e,t){if(e===t)return!0;const r=Ie(e);if(r!==Ie(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Te(e).isEqual(Te(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=ve(e.timestampValue),n=ve(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ke(e.bytesValue).isEqual(ke(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _e(e.geoPointValue.latitude)===_e(t.geoPointValue.latitude)&&_e(e.geoPointValue.longitude)===_e(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _e(e.integerValue)===_e(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=_e(e.doubleValue),n=_e(t.doubleValue);return r===n?oe(r)===oe(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return pe(e.arrayValue.values||[],t.arrayValue.values||[],je);case 10:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(ge(r)!==ge(n))return!1;for(const e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!je(r[e],n[e])))return!1;return!0}(e,t);default:return _()}}function Ae(e,t){return void 0!==(e.values||[]).find((e=>je(e,t)))}function Pe(e,t){if(e===t)return 0;const r=Ie(e),n=Ie(t);if(r!==n)return fe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=_e(e.integerValue||e.doubleValue),n=_e(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return Ce(e.timestampValue,t.timestampValue);case 4:return Ce(Te(e),Te(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(e,t){const r=ke(e),n=ke(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){const t=fe(r[e],n[e]);if(0!==t)return t}return fe(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=fe(_e(e.latitude),_e(t.latitude));return 0!==r?r:fe(_e(e.longitude),_e(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){const t=Pe(r[e],n[e]);if(t)return t}return fe(r.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Oe&&t===Oe)return 0;if(e===Oe)return 1;if(t===Oe)return-1;const r=e.fields||{},n=Object.keys(r),i=t.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){const t=fe(n[e],s[e]);if(0!==t)return t;const o=Pe(r[n[e]],i[s[e]]);if(0!==o)return o}return fe(n.length,s.length)}(e.mapValue,t.mapValue);default:throw _()}}function Ce(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fe(e,t);const r=ve(e),n=ve(t),i=fe(r.seconds,n.seconds);return 0!==i?i:fe(r.nanos,n.nanos)}function Re(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $e(e){return!!e&&"arrayValue"in e}function De(e){return!!e&&"nullValue"in e}function Le(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ne(e){return!!e&&"mapValue"in e}function Ue(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return me(e.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Ue(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ue(e.arrayValue.values[r]);return t}return Object.assign({},e)}class Me{constructor(e,t){this.position=e,this.inclusive=t}}class Fe{}class Ve extends Fe{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ze(e,t,r):"array-contains"===t?new Ge(e,r):"in"===t?new Je(e,r):"not-in"===t?new We(e,r):"array-contains-any"===t?new Ye(e,r):new Ve(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new qe(e,r):new He(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pe(t,this.value)):null!==t&&Ie(this.value)===Ie(t)&&this.matchesComparison(Pe(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends Fe{constructor(e,t){super(),this.filters=e,this.op=t,this.D=null}static create(e,t){return new Be(e,t)}matches(e){return function(e){return"and"===e.op}(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.D||(this.D=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.D}getFilters(){return Object.assign([],this.filters)}}class ze extends Ve{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class qe extends Ve{constructor(e,t){super(e,"in",t),this.keys=Ke("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class He extends Ve{constructor(e,t){super(e,"not-in",t),this.keys=Ke("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ke(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map((e=>X.fromName(e.referenceValue)))}class Ge extends Ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $e(t)&&Ae(t.arrayValue,this.value)}}class Je extends Ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ae(this.value.arrayValue,t)}}class We extends Ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ae(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ae(this.value.arrayValue,t)}}class Ye extends Ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$e(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ae(this.value.arrayValue,e)))}}class Xe{constructor(e,t="asc"){this.field=e,this.dir=t}}class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Se(0,0))}static max(){return new Qe(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ze{constructor(e,t){this.comparator=e,this.root=t||tt.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new et(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new et(this.root,e,this.comparator,!1)}getReverseIterator(){return new et(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new et(this.root,e,this.comparator,!0)}}class et{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:tt.RED,this.left=null!=n?n:tt.EMPTY,this.right=null!=i?i:tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new tt(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const i=r(e,n.key);return n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return tt.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _();if(this.right.isRed())throw _();const e=this.left.check();if(e!==this.right.check())throw _();return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1,tt.EMPTY=new class{constructor(){this.size=0}get key(){throw _()}get value(){throw _()}get color(){throw _()}get left(){throw _()}get right(){throw _()}copy(e,t,r,n,i){return this}insert(e,t,r){return new tt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new it(this.data.getIterator())}getIteratorFrom(e){return new it(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof nt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nt(this.comparator);return t.data=e,t}}class it{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class st{constructor(e){this.value=e}static empty(){return new st({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ne(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ue(t)}setAll(e){let t=Y.emptyPath(),r={},n=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=Ue(e):n.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){const t=this.field(e.popLast());Ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return je(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];Ne(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){me(t,((t,r)=>e[t]=r));for(const t of r)delete e[t]}clone(){return new st(Ue(this.value))}}class ot{constructor(e,t,r,n,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ot(e,0,Qe.min(),Qe.min(),Qe.min(),st.empty(),0)}static newFoundDocument(e,t,r,n){return new ot(e,1,t,Qe.min(),r,n,0)}static newNoDocument(e,t){return new ot(e,2,t,Qe.min(),Qe.min(),st.empty(),0)}static newUnknownDocument(e,t){return new ot(e,3,t,Qe.min(),Qe.min(),st.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=st.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=st.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class at{constructor(e,t=null,r=[],n=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=o,this.C=null}}function ct(e,t=null,r=[],n=[],i=null,s=null,o=null){return new at(e,t,r,n,i,s,o)}class lt{constructor(e,t=null,r=[],n=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.N=null,this.O=null,this.startAt,this.endAt}}function ut(e){return null!==e.collectionGroup}function ht(e){const t=S(e);if(null===t.S){t.S=[];const e=new Set;for(const r of t.explicitOrderBy)t.S.push(r),e.add(r.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new nt(Y.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);n.forEach((n=>{e.has(n.canonicalString())||n.isKeyField()||t.S.push(new Xe(n,r))})),e.has(Y.keyField().canonicalString())||t.S.push(new Xe(Y.keyField(),r))}return t.S}function ft(e){const t=S(e);return t.N||(t.N=pt(t,ht(e))),t.N}function pt(e,t){if("F"===e.limitType)return ct(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xe(e.field,t)}));const r=e.endAt?new Me(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Me(e.startAt.position,e.startAt.inclusive):null;return ct(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function gt(e,t){const r=e.filters.concat([t]);return new lt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function mt(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!oe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oe(t)?"-0":t}}(e,t)}const yt={asc:"ASCENDING",desc:"DESCENDING"},bt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wt={and:"AND",or:"OR"};class vt{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _t(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kt(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function St(e){return k(!!e),Qe.fromTimestamp(function(e){const t=ve(e);return new Se(t.seconds,t.nanos)}(e))}function Et(e,t){return xt(e,t).canonicalString()}function xt(e,t){const r=function(e){return new J(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function Tt(e,t){return Et(e.databaseId,t.path)}function Ot(e,t){const r=function(e){const t=J.fromString(e);return k($t(t)),t}(t);if(r.get(1)!==e.databaseId.projectId)throw new D(T,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new D(T,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new X(function(e){return k(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}(r))}function It(e,t){const r={structuredQuery:{}},n=t.path;let i;null!==t.collectionGroup?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=function(e,t){return Et(e.databaseId,t)}(e,i);const s=function(e){if(0!==e.length)return Rt(Be.create(e,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ct(e.field),direction:jt(e.dir)}}(e)))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const a=function(e,t){return e.useProto3Json||se(t)?t:{value:t}}(e,t.limit);return null!==a&&(r.structuredQuery.limit=a),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{B:r,parent:i}}function jt(e){return yt[e]}function At(e){return bt[e]}function Pt(e){return wt[e]}function Ct(e){return{fieldPath:e.canonicalString()}}function Rt(e){return e instanceof Ve?function(e){if("=="===e.op){if(Le(e.value))return{unaryFilter:{field:Ct(e.field),op:"IS_NAN"}};if(De(e.value))return{unaryFilter:{field:Ct(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Le(e.value))return{unaryFilter:{field:Ct(e.field),op:"IS_NOT_NAN"}};if(De(e.value))return{unaryFilter:{field:Ct(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ct(e.field),op:At(e.op),value:e.value}}}(e):e instanceof Be?function(e){const t=e.getFilters().map((e=>Rt(e)));return 1===t.length?t[0]:{compositeFilter:{op:Pt(e.op),filters:t}}}(e):_()}function $t(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Dt(e){return new vt(e,!0)}class Lt extends class{}{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.Y=!1}Z(){if(this.Y)throw new D(P,"The client has already been terminated.")}P(e,t,r,n){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.P(e,xt(t,r),n,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===p&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(x,e.toString())}))}g(e,t,r,n,i){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.g(e,xt(t,r),n,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===p&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(x,e.toString())}))}terminate(){this.Y=!0,this.connection.terminate()}}async function Nt(e,t){const r=S(e),n={documents:t.map((e=>Tt(r.serializer,e)))},i=await r.g("BatchGetDocuments",r.serializer.databaseId,J.emptyPath(),n,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){k(!!t.found),t.found.name,t.found.updateTime;const r=Ot(e,t.found.name),n=St(t.found.updateTime),i=t.found.createTime?St(t.found.createTime):Qe.min(),s=new st({mapValue:{fields:t.found.fields}});return ot.newFoundDocument(r,n,i,s)}(e,t):"missing"in t?function(e,t){k(!!t.missing),k(!!t.readTime);const r=Ot(e,t.missing),n=St(t.readTime);return ot.newNoDocument(r,n)}(e,t):_()}(r.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());k(!!t),o.push(t)})),o}const Ut=new Map;function Mt(e){if(e._terminated)throw new D(P,"The client has already been terminated.");if(!Ut.has(e)){m("ComponentProvider","Initializing Datastore");const t=function(e){return new ue(e,fetch.bind(null))}(function(e,t,r,n){return new H(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,ne(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,e.app.options.appId||"",e._persistenceKey,e._freezeSettings())),r=Dt(e._databaseId),n=function(e,t,r,n){return new Lt(e,t,r,n)}(e._authCredentials,e._appCheckCredentials,t,r);Ut.set(e,n)}return Ut.get(e)}class Ft{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(T,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(T,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,r,n){if(!0===t&&!0===n)throw new D(T,`${e} and ${r} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ne(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(T,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new D(T,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new D(T,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vt{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ft({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(P,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(P,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ft(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new N;switch(e.type){case"firstParty":return new V(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(T,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ut.get(e);t&&(m("ComponentProvider","Removing Datastore"),Ut.delete(e),t.terminate())}(this),Promise.resolve()}}function Bt(e,t){const r="object"==typeof e?e:Object(n.e)(),i="string"==typeof e?e:t||"(default)",s=Object(n.b)(r,"firestore/lite").getImmediate({identifier:i});if(!s._initialized){const e=Object(l.h)("firestore");e&&function(e,t,r,n={}){var i;const s=(e=re(e,Vt))._getSettings(),o=`${t}:${r}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&w("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=h.MOCK_USER;else{t=Object(l.e)(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new D(T,"mockUserToken must contain 'sub' or 'user_id' field!");r=new h(s)}e._authCredentials=new U(new L(t,r))}}(s,...e)}return s}class zt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ht(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Ht extends zt{constructor(e,t,r){super(e,t,function(e){return new lt(e)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new X(e))}withConverter(e){return new Ht(this.firestore,e,this._path)}}function Kt(e,t,...r){if(e=Object(l.i)(e),Q("collection","path",t),e instanceof Vt){const n=J.fromString(t,...r);return ee(n),new Ht(e,null,n)}{if(!(e instanceof qt||e instanceof Ht))throw new D(T,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(J.fromString(t,...r));return ee(n),new Ht(e.firestore,null,n)}}function Gt(e,t,...r){if(e=Object(l.i)(e),1===arguments.length&&(t=de.newId()),Q("doc","path",t),e instanceof Vt){const n=J.fromString(t,...r);return Z(n),new qt(e,null,new X(n))}{if(!(e instanceof qt||e instanceof Ht))throw new D(T,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(J.fromString(t,...r));return Z(n),new qt(e.firestore,e instanceof Ht?e.converter:null,new X(n))}}class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(be.fromBase64String(e))}catch(e){throw new D(T,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jt(be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wt{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(T,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Y(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yt{constructor(e){this._methodName=e}}class Xt{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(T,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(T,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}const Qt=/^__.*__$/;function Zt(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _()}}class er{constructor(e,t,r,n,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.tt(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get et(){return this.settings.et}rt(e){return new er(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.rt({path:r,it:!1});return n.st(e),n}ot(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.rt({path:r,it:!1});return n.tt(),n}ut(e){return this.rt({path:void 0,it:!0})}_t(e){return dr(e,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.st(this.path.get(e))}st(e){if(0===e.length)throw this._t("Document fields must not be empty");if(Zt(this.et)&&Qt.test(e))throw this._t('Document fields cannot begin and end with "__"')}}class rr{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dt(e)}ht(e,t,r,n=!1){return new er({et:e,methodName:t,lt:r,path:Y.emptyPath(),it:!1,ct:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nr(e){const t=e._freezeSettings(),r=Dt(e._databaseId);return new rr(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ir(e,t,r,n=!1){return sr(r,e.ht(n?4:3,t))}function sr(e,t){if(ar(e=Object(l.i)(e)))return cr("Unsupported field value:",t,e),or(e,t);if(e instanceof Yt)return function(e,t){if(!Zt(t.et))throw t._t(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._t(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.it&&4!==t.et)throw t._t("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const i of e){let e=sr(i,t.ut(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(l.i)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mt(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Se.fromDate(e);return{timestampValue:_t(t.serializer,r)}}if(e instanceof Se){const r=new Se(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_t(t.serializer,r)}}if(e instanceof Xt)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jt)return{bytesValue:kt(t.serializer,e._byteString)};if(e instanceof qt){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t._t(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Et(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._t(`Unsupported field value: ${te(e)}`)}(e,t)}function or(e,t){const r={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):me(e,((e,n)=>{const i=sr(n,t.nt(e));null!=i&&(r[e]=i)})),{mapValue:{fields:r}}}function ar(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Se||e instanceof Xt||e instanceof Jt||e instanceof qt||e instanceof Yt)}function cr(e,t,r){if(!ar(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=te(r);throw"an object"===n?t._t(e+" a custom object"):t._t(e+" "+n)}}const lr=new RegExp("[~\\*/\\[\\]]");function ur(e,t,r){if(t.search(lr)>=0)throw dr(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Wt(...t.split("."))._internalPath}catch(n){throw dr(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function dr(e,t,r,n,i){const s=n&&!n.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new D(T,a+e+u)}class fr{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pr(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mr("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pr extends fr{data(){return super.data()}}class gr{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function mr(e,t){return"string"==typeof t?ur(e,t):t instanceof Wt?t._internalPath:t._delegate._internalPath}class yr{}class wr extends yr{}function vr(e,t,...r){let n=[];t instanceof yr&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof Sr)).length,r=e.filter((e=>e instanceof _r)).length;if(t>1||t>0&&r>0)throw new D(T,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const t of n)e=t._apply(e);return e}class _r extends wr{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _r(e,t,r)}_apply(e){const t=this._parse(e);return Tr(e._query,t),new zt(e.firestore,e.converter,gt(e._query,t))}_parse(e){const t=nr(e.firestore),r=function(e,t,r,n,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new D(T,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){xr(o,s);const t=[];for(const r of o)t.push(Er(n,e,r));a={arrayValue:{values:t}}}else a=Er(n,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xr(o,s),a=ir(r,t,o,"in"===s||"not-in"===s);return Ve.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function kr(e,t,r){const n=t,i=mr("where",e);return _r._create(i,n,r)}class Sr extends yr{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sr(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Be.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const e of n)Tr(r,e),r=gt(r,e)}(e._query,t),new zt(e.firestore,e.converter,gt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Er(e,t,r){if("string"==typeof(r=Object(l.i)(r))){if(""===r)throw new D(T,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ut(t)&&-1!==r.indexOf("/"))throw new D(T,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(J.fromString(r));if(!X.isDocumentKey(n))throw new D(T,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Re(e,new X(n))}if(r instanceof qt)return Re(e,r._key);throw new D(T,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${te(r)}.`)}function xr(e,t){if(!Array.isArray(e)||0===e.length)throw new D(T,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tr(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new D(T,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new D(T,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Or extends class{convertValue(e,t="none"){switch(Ie(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ke(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return me(e,((e,n)=>{r[e]=this.convertValue(n,t)})),r}convertGeoPoint(e){return new Xt(_e(e.latitude),_e(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xe(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Te(e));default:return null}}convertTimestamp(e){const t=ve(e);return new Se(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=J.fromString(e);k($t(r));const n=new K(r.get(1),r.get(3)),i=new X(r.popFirst(5));return n.isEqual(t)||y(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function Ir(e){const t=Mt((e=re(e,qt)).firestore),r=new Or(e.firestore);return Nt(t,[e._key]).then((t=>{k(1===t.length);const n=t[0];return new fr(e.firestore,r,e._key,n.isFoundDocument()?n:null,e.converter)}))}function jr(e){!function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(R,"limitToLast() queries require specifying at least one orderBy() clause")}((e=re(e,zt))._query);const t=Mt(e.firestore),r=new Or(e.firestore);return async function(e,t){const r=S(e),{B:n,parent:i}=It(r.serializer,ft(t));return(await r.g("RunQuery",r.serializer.databaseId,i,{structuredQuery:n.structuredQuery})).filter((e=>!!e.document)).map((e=>function(e,t,r){const n=Ot(e,t.name),i=St(t.updateTime),s=t.createTime?St(t.createTime):Qe.min(),o=new st({mapValue:{fields:t.fields}}),a=ot.newFoundDocument(n,i,s,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}(r.serializer,e.document,void 0)))}(t,e._query).then((t=>{const n=t.map((t=>new pr(e.firestore,r,t.key,t,e.converter)));return"L"===e._query.limitType&&n.reverse(),new gr(e,n)}))}var Ar;Ar=`${n.a}_lite`,d=Ar,Object(n.c)(new o.a("firestore/lite",((e,{instanceIdentifier:t,options:r})=>{const n=e.getProvider("app").getImmediate(),i=new Vt(new M(e.getProvider("auth-internal")),new z(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(T,'"projectId" not provided in firebase.initializeApp.');return new K(e.options.projectId,t)}(n,t),n);return r&&i._setSettings(r),i}),"PUBLIC").setMultipleInstances(!0)),Object(n.g)("firestore-lite","4.5.1",""),Object(n.g)("firestore-lite","4.5.1","esm2017")},121:function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var content=e(t);return t[2]?"@media ".concat(t[2]," {").concat(content,"}"):content})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var h=[].concat(e[l]);n&&o[h[0]]||(r&&(h[2]?h[2]="".concat(r," and ").concat(h[2]):h[2]=r),t.push(h))}},t}},122:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],c=o[0],l={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[c]?n[c].parts.push(l):r.push(n[c]={id:c,parts:[l]})}return r}r.r(t),r.d(t,"default",(function(){return v}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,d=!1,f=function(){},m=null,y="data-vue-ssr-id",w="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e,t,r,o){d=r,m=o||{};var l=n(e,t);return _(l),function(t){for(var r=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,r.push(h)}t?_(l=n(e,t)):l=[];for(i=0;i<r.length;i++){var h;if(0===(h=r[i]).refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete c[h.id]}}}}function _(e){for(var i=0;i<e.length;i++){var t=e[i],r=c[t.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](t.parts[n]);for(;n<t.parts.length;n++)r.parts.push(S(t.parts[n]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var o=[];for(n=0;n<t.parts.length;n++)o.push(S(t.parts[n]));c[t.id]={id:t.id,refs:1,parts:o}}}}function k(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function S(e){var t,r,n=document.querySelector("style["+y+'~="'+e.id+'"]');if(n){if(d)return f;n.parentNode.removeChild(n)}if(w){var o=h++;n=l||(l=k()),t=T.bind(null,n,o,!1),r=T.bind(null,n,o,!0)}else n=k(),t=O.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var E,x=(E=[],function(e,t){return E[e]=t,E.filter(Boolean).join("\n")});function T(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var c=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(c,l[t]):e.appendChild(c)}}function O(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),m.ssrId&&e.setAttribute(y,t.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},156:function(e,t,r){"use strict";var n={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var r=t.parent,n=t.slots,o=t.props,c=n(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return r._isMounted?l:(r.$once("hook:mounted",(function(){r.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=n},2:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return T})),r.d(t,"c",(function(){return x})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return I})),r.d(t,"g",(function(){return w})),r.d(t,"h",(function(){return y})),r.d(t,"i",(function(){return A})),r.d(t,"j",(function(){return k})),r.d(t,"k",(function(){return S})),r.d(t,"l",(function(){return E}));const o=function(e){const t=[];let p=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[p++]=r:r<2048?(t[p++]=r>>6|192,t[p++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[p++]=r>>18|240,t[p++]=r>>12&63|128,t[p++]=r>>6&63|128,t[p++]=63&r|128):(t[p++]=r>>12|224,t[p++]=r>>6&63|128,t[p++]=63&r|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(input,e){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[];for(let i=0;i<input.length;i+=3){const e=input[i],r=i+1<input.length,n=r?input[i+1]:0,o=i+2<input.length,c=o?input[i+2]:0,l=e>>2,h=(3&e)<<4|n>>4;let d=(15&n)<<2|c>>6,f=63&c;o||(f=64,r||(d=64)),output.push(t[l],t[h],t[d],t[f])}return output.join("")},encodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(input):this.encodeByteArray(o(input),e)},decodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(input):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){const u=((7&o)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(1023&u))}else{const c=e[r++],l=e[r++];t[n++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(input,e))},decodeStringToByteArray(input,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,output=[];for(let i=0;i<input.length;){const e=t[input.charAt(i++)],r=i<input.length?t[input.charAt(i)]:0;++i;const n=i<input.length?t[input.charAt(i)]:64;++i;const o=i<input.length?t[input.charAt(i)]:64;if(++i,null==e||null==r||null==n||null==o)throw new l;const c=e<<2|r>>4;if(output.push(c),64!==n){const e=r<<4&240|n>>2;if(output.push(e),64!==o){const e=n<<6&192|o;output.push(e)}}}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h=function(e){return function(e){const t=o(e);return c.encodeByteArray(t,!0)}(e).replace(/\./g,"")},d=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const f=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,m=()=>{try{return f()||(()=>{if(void 0===n||void 0===n.env)return;const e=n.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},y=e=>{const t=(e=>{var t,r;return null===(r=null===(t=m())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]})(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},w=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,r))}}}function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,sub=e.sub||e.user_id;if(!sub)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:sub,user_id:sub,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(o)),""].join(".")}function k(){return"object"==typeof self&&self.self===self}function S(){try{return"object"==typeof indexedDB}catch(e){return!1}}function E(){return new Promise(((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class x extends Error{constructor(code,e,t){super(e),this.code=code,this.customData=t,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(code,...data){const e=data[0]||{},t=`${this.service}/${code}`,template=this.errors[code],r=template?function(template,data){return template.replace(O,((e,t)=>{const r=data[t];return null!=r?String(r):`<${t}?>`}))}(template,e):"Error",n=`${this.serviceName}: ${r} (${t}).`;return new x(t,n,e)}}const O=/\{\$([^}]+)}/g;function I(a,b){if(a===b)return!0;const e=Object.keys(a),t=Object.keys(b);for(const r of e){if(!t.includes(r))return!1;const e=a[r],n=b[r];if(j(e)&&j(n)){if(!I(e,n))return!1}else if(e!==n)return!1}for(const r of t)if(!e.includes(r))return!1;return!0}function j(e){return null!==e&&"object"==typeof e}function A(e){return e&&e._delegate?e._delegate:e}}).call(this,r(37),r(149))},217:function(e,t,r){"use strict";function n(e,t){return t=t||{},new Promise((function(r,n){var s=new XMLHttpRequest,o=[],u={},a=function e(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return o.map((function(e){return[e,s.getResponseHeader(e)]}))},get:function(e){return s.getResponseHeader(e)},has:function(e){return null!=s.getResponseHeader(e)}}}};for(var i in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().toLowerCase().replace(/^(.+?):/gm,(function(e,t){u[t]||o.push(u[t]=t)})),r(a())},s.onerror=n,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(i,t.headers[i]);s.send(t.body||null)}))}r.d(t,"a",(function(){return n}))},219:function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function l(e,source,t){return e.concat(source).map((function(element){return c(element,t)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return Object.propertyIsEnumerable.call(e,symbol)})):[]}(e))}function d(object,e){try{return e in object}catch(e){return!1}}function f(e,source,t){var r={};return t.isMergeableObject(e)&&h(e).forEach((function(n){r[n]=c(e[n],t)})),h(source).forEach((function(n){(function(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(d(e,n)&&t.isMergeableObject(source[n])?r[n]=function(e,t){if(!t.customMerge)return m;var r=t.customMerge(e);return"function"==typeof r?r:m}(n,t)(e[n],source[n],t):r[n]=c(source[n],t))})),r}function m(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||l,t.isMergeableObject=t.isMergeableObject||n,t.cloneUnlessOtherwiseSpecified=c;var r=Array.isArray(source);return r===Array.isArray(e)?r?t.arrayMerge(e,source,t):f(e,source,t):c(source,t)}m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return m(e,r,t)}),{})};var y=m;e.exports=y},220:function(e,t,r){"use strict";var n=r(29);r.d(t,"a",(function(){return n.f}));Object(n.g)("firebase","10.10.0","app")},222:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(19);r(94),r(13),r(46);function o(e){return null!==e&&"object"===Object(n.a)(e)}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3?arguments[3]:void 0;if(!o(t))return c(e,{},r,n);var l=Object.assign({},t);for(var h in e)if("__proto__"!==h&&"constructor"!==h){var d=e[h];null!=d&&(n&&n(l,h,d,r)||(Array.isArray(d)&&Array.isArray(l[h])?l[h]=l[h].concat(d):o(d)&&o(l[h])?l[h]=c(d,l[h],(r?"".concat(r,"."):"")+h.toString(),n):l[h]=d))}return l}function l(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce((function(p,t){return c(p,t,"",e)}),{})}}var h=l();h.fn=l((function(e,t,r,n){if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0})),h.arrayFn=l((function(e,t,r,n){if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0})),h.extend=l},223:function(e,t,r){self,e.exports=(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Confetti:()=>z,default:()=>H});const r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=parseFloat(e),n=parseFloat(t),o=Math.random()*(n-i)+i;return r?Math.round(o):o};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.color,n=void 0===r?"blue":r,o=t.size,a=void 0===o?10:o,c=t.dropRate,s=void 0===c?10:c;i(this,e),this.color=n,this.size=a,this.dropRate=s}var t;return(t=[{key:"setup",value:function(e){var t=e.canvas,i=e.wind,n=e.windPosCoef,o=e.windSpeedMax,a=e.count;return this.canvas=t,this.wind=i,this.windPosCoef=n,this.windSpeedMax=o,this.x=r(-35,this.canvas.width+35),this.y=r(-30,-35),this.d=r(150)+10,this.particleSize=r(this.size,2*this.size),this.tilt=r(10),this.tiltAngleIncremental=(r(0,.08)+.04)*(r()<.5?-1:1),this.tiltAngle=0,this.angle=r(2*Math.PI),this.count=a+1,this.remove=!1,this}},{key:"update",value:function(){this.tiltAngle+=this.tiltAngleIncremental*(.2*Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef)+1),this.y+=(Math.cos(this.angle+this.d)+parseInt(this.dropRate,10))/2,this.x+=(Math.sin(this.angle)+Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef))*this.windSpeedMax,this.y+=Math.sin(this.wind+(this.d+this.x+this.y)*this.windPosCoef)*this.windSpeedMax,this.tilt=15*Math.sin(this.tiltAngle-this.count/3)}},{key:"pastBottom",value:function(){return this.y>this.canvas.height}},{key:"draw",value:function(){this.canvas.ctx.fillStyle=this.color,this.canvas.ctx.beginPath(),this.canvas.ctx.setTransform(Math.cos(this.tiltAngle),Math.sin(this.tiltAngle),0,1,this.x,this.y)}},{key:"kill",value:function(){this.remove=!0}}])&&n(e.prototype,t),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,r){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}},l(e,t,r||e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function h(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,i,r,n=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(r){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(){return c(this,a),n.apply(this,arguments)}return(t=[{key:"draw",value:function(){l(d(a.prototype),"draw",this).call(this),this.canvas.ctx.arc(0,0,this.particleSize/2,0,2*Math.PI,!1),this.canvas.ctx.fill()}}])&&s(a.prototype,t),a}(o);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,r){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}},w(e,t,r||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,i,r,n=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(i);if(r){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function a(){return m(this,a),n.apply(this,arguments)}return(t=[{key:"draw",value:function(){w(g(a.prototype),"draw",this).call(this),this.canvas.ctx.fillRect(0,0,this.particleSize,this.particleSize/2)}}])&&y(a.prototype,t),a}(o);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t,r){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}},x(e,t,r||e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function O(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,i,r,n=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(i);if(r){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(){return S(this,a),n.apply(this,arguments)}return(t=[{key:"draw",value:function(){var e=this;x(I(a.prototype),"draw",this).call(this);var t=function(t,r,i,n,o,a){e.canvas.ctx.bezierCurveTo(t*(e.particleSize/200),r*(e.particleSize/200),i*(e.particleSize/200),n*(e.particleSize/200),o*(e.particleSize/200),a*(e.particleSize/200))};this.canvas.ctx.moveTo(37.5/this.particleSize,20/this.particleSize),t(75,37,70,25,50,25),t(20,25,20,62.5,20,62.5),t(20,80,40,102,75,120),t(110,102,130,80,130,62.5),t(130,62.5,130,25,100,25),t(85,25,75,37,75,40),this.canvas.ctx.fill()}}])&&E(a.prototype,t),a}(o);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function P(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,r){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}},C(e,t,r||e)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function $(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,i,r,n=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(i);if(r){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=n.call(this,e)).imgEl=t,r}return(t=[{key:"draw",value:function(){C(D(a.prototype),"draw",this).call(this),this.canvas.ctx.drawImage(this.imgEl,0,0,this.particleSize,this.particleSize)}}])&&P(a.prototype,t),a}(o);function N(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cachedImages={}}var i;return i=[{key:"createImageElement",value:function(e){var t=document.createElement("img");return t.setAttribute("src",e),t}},{key:"getImageElement",value:function(e){return this.cachedImages[e]||(this.cachedImages[e]=this.createImageElement(e)),this.cachedImages[e]}},{key:"getRandomParticle",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).particles||[];return e.length<1?{}:e[Math.floor(Math.random()*e.length)]}},{key:"getDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.defaultType||"circle",size:e.defaultSize||10,dropRate:e.defaultDropRate||10,colors:e.defaultColors||["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],url:null}}},{key:"create",value:function(e){var t=this.getDefaults(e),i=this.getRandomParticle(e),n=Object.assign(t,i),o=r(0,n.colors.length-1,!0);if(n.color=n.colors[o],"circle"===n.type)return new p(n);if("rect"===n.type)return new _(n);if("heart"===n.type)return new j(n);if("image"===n.type)return new L(n,this.getImageElement(n.url));throw Error('Unknown particle type: "'.concat(n.type,'"'))}}],i&&N(e.prototype,i),e}();function M(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var F=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.pool=[],this.particleOptions=t,this.particleFactory=new U}var t;return(t=[{key:"update",value:function(){var e,t=this,r=[],i=[];this.items.forEach((function(e){e.update(),e.pastBottom()?e.remove||(e.setup(t.particleOptions),r.push(e)):i.push(e)})),(e=this.pool).push.apply(e,r),this.items=i}},{key:"draw",value:function(){this.items.forEach((function(e){return e.draw()}))}},{key:"add",value:function(){this.pool.length>0?this.items.push(this.pool.pop().setup(this.particleOptions)):this.items.push(this.particleFactory.create(this.particleOptions).setup(this.particleOptions))}},{key:"refresh",value:function(){this.items.forEach((function(e){e.kill()})),this.pool=[]}}])&&M(e.prototype,t),e}();function V(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r="confetti-canvas";if(t&&!(t instanceof HTMLCanvasElement))throw new Error("Element is not a valid HTMLCanvasElement");this.isDefault=!t,this.canvas=t||document.getElementById(r)||e.createDefaultCanvas(r),this.ctx=this.canvas.getContext("2d")}var t,r,i;return t=e,i=[{key:"createDefaultCanvas",value:function(e){var t=document.createElement("canvas");return t.style.display="block",t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.width="100vw",t.style.height="100vh",t.id=e,document.querySelector("body").appendChild(t),t}}],(r=[{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}},{key:"clear",value:function(){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.width,this.height)}},{key:"updateDimensions",value:function(){this.isDefault&&(this.width===window.innerWidth&&this.height===window.innerHeight||(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight))}}])&&V(t.prototype,r),i&&V(t,i),e}();function q(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setDefaults()}var t;return t=[{key:"setDefaults",value:function(){this.killed=!1,this.framesSinceDrop=0,this.canvas=null,this.canvasEl=null,this.W=0,this.H=0,this.particleManager=null,this.particlesPerFrame=0,this.wind=0,this.windSpeed=1,this.windSpeedMax=1,this.windChange=.01,this.windPosCoef=.002,this.animationId=null}},{key:"getParticleOptions",value:function(e){var t={canvas:this.canvas,W:this.W,H:this.H,wind:this.wind,windPosCoef:this.windPosCoef,windSpeedMax:this.windSpeedMax,count:0};return Object.assign(t,e),t}},{key:"createParticles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getParticleOptions(e);this.particleManager=new F(t)}},{key:"getCanvasElementFromOptions",value:function(e){var t=e.canvasId,r=e.canvasElement,i=r;if(r&&!(r instanceof HTMLCanvasElement))throw new Error("Invalid options: canvasElement is not a valid HTMLCanvasElement");if(t&&r)throw new Error("Invalid options: canvasId and canvasElement are mutually exclusive");if(t&&!i&&(i=document.getElementById(t)),t&&!(i instanceof HTMLCanvasElement))throw new Error('Invalid options: element with id "'.concat(t,'" is not a valid HTMLCanvasElement'));return i}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.remove();var t=this.getCanvasElementFromOptions(e);this.canvas=new B(t),this.canvasEl=t,this.createParticles(e),this.setGlobalOptions(e),this.animationId=requestAnimationFrame(this.mainLoop.bind(this))}},{key:"setGlobalOptions",value:function(e){this.particlesPerFrame=e.particlesPerFrame||2,this.windSpeedMax=e.windSpeedMax||1}},{key:"stop",value:function(){this.killed=!0,this.particlesPerFrame=0}},{key:"update",value:function(e){var t=this.getCanvasElementFromOptions(e);this.canvas&&t!==this.canvasEl?this.start(e):(this.setGlobalOptions(e),this.particleManager&&(this.particleManager.particleOptions=this.getParticleOptions(e),this.particleManager.refresh()))}},{key:"remove",value:function(){this.stop(),this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.clear(),this.setDefaults()}},{key:"mainLoop",value:function(e){this.canvas.updateDimensions(),this.canvas.clear(),this.windSpeed=Math.sin(e/8e3)*this.windSpeedMax,this.wind=this.particleManager.particleOptions.wind+=this.windChange;for(var t=this.framesSinceDrop*this.particlesPerFrame;t>=1;)this.particleManager.add(),t-=1,this.framesSinceDrop=0;this.particleManager.update(),this.particleManager.draw(),this.killed&&!this.particleManager.items.length||(this.animationId=requestAnimationFrame(this.mainLoop.bind(this))),this.framesSinceDrop+=1}}],t&&q(e.prototype,t),e}();const H={install:function(e,t){if(!this.installed){this.installed=!0;try{e.config.globalProperties.$confetti=new z(t)}catch(r){e.prototype.$confetti=new z(t)}}}};return t})()},225:function(e,t,r){"use strict";r.d(t,"a",(function(){return Mt}));class n extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class o extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class l extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var h;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(h||(h={}));var d=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};class f{constructor(e,{headers:t={},customFetch:n,region:o=h.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(null,97)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return d(this,void 0,void 0,(function*(){try{const{headers:n,method:h,body:d}=t;let body,f={},{region:m}=t;m||(m=this.region),m&&"any"!==m&&(f["x-region"]=m),d&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",body=d):"string"==typeof d?(f["Content-Type"]="text/plain",body=d):"undefined"!=typeof FormData&&d instanceof FormData?body=d:(f["Content-Type"]="application/json",body=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${e}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),n),body:body}).catch((e=>{throw new o(e)})),w=y.headers.get("x-relay-error");if(w&&"true"===w)throw new c(y);if(!y.ok)throw new l(y);let data,v=(null!==(r=y.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return data="application/json"===v?yield y.json():"application/octet-stream"===v?yield y.blob():"text/event-stream"===v?y:"multipart/form-data"===v?yield y.formData():yield y.text(),{data:data,error:null}}catch(e){return{data:null,error:e}}}))}}var m=r(97);class y extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class w{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=m.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let o=null,data=null,c=null,l=e.status,h=e.statusText;if(e.ok){if("HEAD"!==this.method){const body=await e.text();""===body||(data="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?body:JSON.parse(body))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),d=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&d&&d.length>1&&(c=parseInt(d[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(data)&&(data.length>1?(o={code:"PGRST116",details:`Results contain ${data.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},data=null,c=null,l=406,h="Not Acceptable"):data=1===data.length?data[0]:null)}else{const body=await e.text();try{o=JSON.parse(body),Array.isArray(o)&&404===e.status&&(data=[],o=null,l=200,h="OK")}catch(t){404===e.status&&""===body?(l=204,h="No Content"):o={message:body}}if(o&&this.isMaybeSingle&&(null===(n=null==o?void 0:o.details)||void 0===n?void 0:n.includes("0 rows"))&&(o=null,l=200,h="OK"),o&&this.shouldThrowOnError)throw new y(o)}return{error:o,data:data,count:c,status:l,statusText:h}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}}class v extends w{select(e){let t=!1;const r=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:o=n}={}){const c=o?`${o}.order`:"order",l=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const o=void 0===n?"offset":`${n}.offset`,c=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(c,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:o=!1,format:c="text"}={}){var l;const h=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=null!==(l=this.headers.Accept)&&void 0!==l?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class _ extends v{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,pattern){return this.url.searchParams.append(e,`like.${pattern}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,pattern){return this.url.searchParams.append(e,`ilike.${pattern}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((s=>"string"==typeof s&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let o="";"plain"===n?o="pl":"phrase"===n?o="ph":"websearch"===n&&(o="w");const c=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${c}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class k{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:head=!1,count:t}={}){const r=head?"HEAD":"GET";let n=!1;const o=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",o),t&&(this.headers.Prefer=`count=${t}`),new _({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new _({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:o=!0}={}){const c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&c.push(this.headers.Prefer),n&&c.push(`count=${n}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new _({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new _({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new _({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const S={"X-Client-Info":"postgrest-js/1.15.2"};class E{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},S),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new k(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new E(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:head=!1,get:r=!1,count:n}={}){let o;const c=new URL(`${this.url}/rpc/${e}`);let body;head||r?(o=head?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{c.searchParams.append(e,t)}))):(o="POST",body=t);const l=Object.assign({},this.headers);return n&&(l.Prefer=`count=${n}`),new _({method:o,url:c,headers:l,schema:this.schemaName,body:body,fetch:this.fetch,allowEmpty:!1})}}const x={"X-Client-Info":"realtime-js/2.9.5"};var T,O,I,j,A,P,C;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(T||(T={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(O||(O={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(I||(I={})),function(e){e.websocket="websocket"}(j||(j={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(A||(A={}));class R{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class ${constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const view=new DataView(e),t=new TextDecoder;return this._decodeBroadcast(e,view,t)}_decodeBroadcast(e,view,t){const r=view.getUint8(1),n=view.getUint8(2);let o=this.HEADER_LENGTH+2;const c=t.decode(e.slice(o,o+r));o+=r;const l=t.decode(e.slice(o,o+n));o+=n;return{ref:null,topic:c,event:l,payload:JSON.parse(t.decode(e.slice(o,e.byteLength)))}}}class D{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(P||(P={}));class L{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=L.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=L.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=L.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const o=this.cloneDeep(e),c=this.transformState(t),l={},h={};return this.map(o,((e,t)=>{c[e]||(h[e]=t)})),this.map(c,((e,t)=>{const r=o[e];if(r){const n=t.map((e=>e.presence_ref)),o=r.map((e=>e.presence_ref)),c=t.filter((e=>o.indexOf(e.presence_ref)<0)),d=r.filter((e=>n.indexOf(e.presence_ref)<0));c.length>0&&(l[e]=c),d.length>0&&(h[e]=d)}else l[e]=t})),this.syncDiff(o,{joins:l,leaves:h},r,n)}static syncDiff(e,t,r,n){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,((t,n)=>{var o;const c=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(n),c.length>0){const r=e[t].map((e=>e.presence_ref)),n=c.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,c,n)})),this.map(c,((t,r)=>{let o=e[t];if(!o)return;const c=r.map((e=>e.presence_ref));o=o.filter((e=>c.indexOf(e.presence_ref)<0)),e[t]=o,n(t,o,r),0===o.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(C||(C={}));const N=(e,t,r={})=>{var n;const o=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((r,n)=>(r[n]=U(n,e,t,o),r)),{})},U=(e,t,r,n)=>{const o=t.find((t=>t.name===e)),c=null==o?void 0:o.type,l=r[e];return c&&!n.includes(c)?M(c,l):F(l)},M=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return H(t,r)}switch(e){case C.bool:return V(t);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return B(t);case C.json:case C.jsonb:return z(t);case C.timestamp:return K(t);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:default:return F(t)}},F=e=>e,V=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(e){n=o?o.split(","):[]}return n.map((e=>M(t,e)))}return e},K=e=>"string"==typeof e?e.replace(" ","T"):e;var G,J,W;!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(G||(G={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(J||(J={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(W||(W={}));class Y{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=O.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new D(this,I.join,this.params,this.timeout),this.rejoinTimer=new R((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=O.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=O.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=O.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=O.errored,this.rejoinTimer.scheduleTimeout())})),this._on(I.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new L(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:c}}=this.params;this._onError((t=>e&&e("CHANNEL_ERROR",t))),this._onClose((()=>e&&e("CLOSED")));const l={},h={broadcast:o,presence:c,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:h},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(({postgres_changes:t})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==t){const n=this.bindings.postgres_changes,o=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,c=[];for(let i=0;i<o;i++){const r=n[i],{filter:{event:o,schema:l,table:table,filter:filter}}=r,h=t&&t[i];if(!h||h.event!==o||h.schema!==l||h.table!==table||h.filter!==filter)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));c.push(Object.assign(Object.assign({},r),{id:h.id}))}return this.bindings.postgres_changes=c,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(t=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{e&&e("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,filter,t){return this._on(e,filter,t)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,o,c;const l=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(c=null===(o=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===o?void 0:o.broadcast)||void 0===c?void 0:c.ack)||r("ok"),l.receive("ok",(()=>r("ok"))),l.receive("error",(()=>r("error"))),l.receive("timeout",(()=>r("timed out")))}));{const{event:o,payload:c}=e,l={method:"POST",headers:{apikey:null!==(r=this.socket.apiKey)&&void 0!==r?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout)).ok?"ok":"error"}catch(e){return"AbortError"===e.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=O.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(I.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new D(this,I.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const n=new AbortController,o=setTimeout((()=>n.abort()),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(o),c}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new D(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,o;const c=e.toLocaleLowerCase(),{close:l,error:h,leave:d,join:f}=I;if(r&&[l,h,d,f].indexOf(c)>=0&&r!==this._joinRef())return;let m=this._onMessage(c,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===c})).map((e=>e.callback(m,r))):null===(o=this.bindings[c])||void 0===o||o.filter((e=>{var r,n,o,l,h,d;if(["broadcast","presence","postgres_changes"].includes(c)){if("id"in e){const c=e.id,l=null===(r=e.filter)||void 0===r?void 0:r.event;return c&&(null===(n=t.ids)||void 0===n?void 0:n.includes(c))&&("*"===l||(null==l?void 0:l.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const r=null===(h=null===(l=null==e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===h?void 0:h.toLocaleLowerCase();return"*"===r||r===(null===(d=null==t?void 0:t.event)||void 0===d?void 0:d.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===c})).map((e=>{if("object"==typeof m&&"ids"in m){const e=m.data,{schema:t,table:table,commit_timestamp:r,type:n,errors:o}=e,c={schema:t,table:table,commit_timestamp:r,eventType:n,new:{},old:{},errors:o};m=Object.assign(Object.assign({},c),this._getPayloadRecords(e))}e.callback(m,r)}))}_isClosed(){return this.state===O.closed}_isJoined(){return this.state===O.joined}_isJoining(){return this.state===O.joining}_isLeaving(){return this.state===O.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,filter,t){const r=e.toLocaleLowerCase(),n={type:r,filter:filter,callback:t};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,filter){const t=e.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===t&&Y.isEqual(e.filter,filter))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(I.close,{},e)}_onError(e){this._on(I.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=O.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=N(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=N(e.columns,e.old_record)),t}}const X=()=>{},Q="undefined"!=typeof WebSocket;class Z{constructor(e,t){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=x,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=X,this.conn=null,this.sendBuffer=[],this.serializer=new $,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(null,97)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${j.websocket}`,(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});else{if(Q)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new ee(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),r.e(30).then(r.t.bind(null,353,7)).then((({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}disconnect(code,e){this.conn&&(this.conn.onclose=function(){},code?this.conn.close(code,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,data){this.logger(e,t,data)}connectionState(){switch(this.conn&&this.conn.readyState){case T.connecting:return A.Connecting;case T.open:return A.Open;case T.closing:return A.Closing;default:return A.Closed}}isConnected(){return this.connectionState()===A.Open}channel(e,t={config:{}}){const r=new Y(`realtime:${e}`,t,this);return this.channels.push(r),r}push(data){const{topic:e,event:t,payload:r,ref:n}=data,o=()=>{this.encode(data,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${e} ${t} (${n})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(I.access_token,{access_token:e})}))}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:o}=e;(o&&o===this.pendingHeartbeatRef||r===(null==n?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${o&&"("+o+")"||""}`,n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,o))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(I.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ee{constructor(address,e,t){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=T.connecting,this.send=()=>{},this.url=null,this.url=address,this.close=t.close}}class te extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ne extends te{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ie extends te{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var se=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};const oe=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(null,97)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)};var ae=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};const ce=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),le=(e,t)=>ae(void 0,void 0,void 0,(function*(){const n=yield se(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(null,97))).Response:Response}));e instanceof n?e.json().then((r=>{t(new ne(ce(r),e.status||500))})).catch((e=>{t(new ie(ce(e),e))})):t(new ie(ce(e),e))})),ue=(e,t,r,body)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(body),Object.assign(Object.assign({},n),r))};function he(e,t,r,n,o,body){return ae(this,void 0,void 0,(function*(){return new Promise(((c,l)=>{e(r,ue(t,n,o,body)).then((e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()})).then((data=>c(data))).catch((e=>le(e,l)))}))}))}function de(e,t,r,n){return ae(this,void 0,void 0,(function*(){return he(e,"GET",t,r,n)}))}function fe(e,t,body,r,n){return ae(this,void 0,void 0,(function*(){return he(e,"POST",t,r,n,body)}))}function pe(e,t,body,r,n){return ae(this,void 0,void 0,(function*(){return he(e,"DELETE",t,r,n,body)}))}var ge=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};const me={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ye={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class be{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=oe(n)}uploadOrUpdate(e,path,t,r){return ge(this,void 0,void 0,(function*(){try{let body;const n=Object.assign(Object.assign({},ye),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});"undefined"!=typeof Blob&&t instanceof Blob?(body=new FormData,body.append("cacheControl",n.cacheControl),body.append("",t)):"undefined"!=typeof FormData&&t instanceof FormData?(body=t,body.append("cacheControl",n.cacheControl)):(body=t,o["cache-control"]=`max-age=${n.cacheControl}`,o["content-type"]=n.contentType);const c=this._removeEmptyFolders(path),l=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:body,headers:o},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{})),data=yield h.json();if(h.ok)return{data:{path:c,id:data.Id,fullPath:data.Key},error:null};return{data:null,error:data}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}upload(path,e,t){return ge(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",path,e,t)}))}uploadToSignedUrl(path,e,t,r){return ge(this,void 0,void 0,(function*(){const n=this._removeEmptyFolders(path),o=this._getFinalPath(n),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",e);try{let body;const e=Object.assign({upsert:ye.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&t instanceof Blob?(body=new FormData,body.append("cacheControl",e.cacheControl),body.append("",t)):"undefined"!=typeof FormData&&t instanceof FormData?(body=t,body.append("cacheControl",e.cacheControl)):(body=t,o["cache-control"]=`max-age=${e.cacheControl}`,o["content-type"]=e.contentType);const l=yield this.fetch(c.toString(),{method:"PUT",body:body,headers:o}),data=yield l.json();if(l.ok)return{data:{path:n,fullPath:data.Key},error:null};return{data:null,error:data}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}createSignedUploadUrl(path){return ge(this,void 0,void 0,(function*(){try{let e=this._getFinalPath(path);const data=yield fe(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),t=new URL(this.url+data.url),r=t.searchParams.get("token");if(!r)throw new te("No token returned by API");return{data:{signedUrl:t.toString(),path:path,token:r},error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}update(path,e,t){return ge(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",path,e,t)}))}move(e,t){return ge(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}copy(e,t){return ge(this,void 0,void 0,(function*(){try{return{data:{path:(yield fe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}createSignedUrl(path,e,t){return ge(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(path),data=yield fe(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},(null==t?void 0:t.transform)?{transform:t.transform}:{}),{headers:this.headers});const n=(null==t?void 0:t.download)?`&download=${!0===t.download?"":t.download}`:"";return data={signedUrl:encodeURI(`${this.url}${data.signedURL}${n}`)},{data:data,error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}createSignedUrls(e,t,r){return ge(this,void 0,void 0,(function*(){try{const data=yield fe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:data.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${n}`):null}))),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}download(path,e){return ge(this,void 0,void 0,(function*(){const t=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),n=r?`?${r}`:"";try{const e=this._getFinalPath(path),r=yield de(this.fetch,`${this.url}/${t}/${e}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}getPublicUrl(path,e){const t=this._getFinalPath(path),r=[],n=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==n&&r.push(n);const o=void 0!==(null==e?void 0:e.transform)?"render/image":"object",c=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==c&&r.push(c);let l=r.join("&");return""!==l&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${l}`)}}}remove(e){return ge(this,void 0,void 0,(function*(){try{return{data:yield pe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}list(path,e,t){return ge(this,void 0,void 0,(function*(){try{const body=Object.assign(Object.assign(Object.assign({},me),e),{prefix:path||""});return{data:yield fe(this.fetch,`${this.url}/object/list/${this.bucketId}`,body,{headers:this.headers},t),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}_getFinalPath(path){return`${this.bucketId}/${path}`}_removeEmptyFolders(path){return path.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const we={"X-Client-Info":"storage-js/2.5.5"};var ve=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};class _e{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},we),t),this.fetch=oe(r)}listBuckets(){return ve(this,void 0,void 0,(function*(){try{return{data:yield de(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}getBucket(e){return ve(this,void 0,void 0,(function*(){try{return{data:yield de(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}createBucket(e,t={public:!1}){return ve(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}updateBucket(e,t){return ve(this,void 0,void 0,(function*(){try{const data=yield function(e,t,body,r,n){return ae(this,void 0,void 0,(function*(){return he(e,"PUT",t,r,n,body)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:data,error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}emptyBucket(e){return ve(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}deleteBucket(e){return ve(this,void 0,void 0,(function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}}class ke extends _e{constructor(e,t={},r){super(e,t,r)}from(e){return new be(this.url,this.headers,e,this.fetch)}}let Se="";Se="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ee={headers:{"X-Client-Info":`supabase-js-${Se}/2.43.0`}},xe={schema:"public"},Te={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oe={};var Ie=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};const je=e=>{let t;return t=e||("undefined"==typeof fetch?m.default:fetch),(...e)=>t(...e)},Ae=(e,t,r)=>{const n=je(r),o="undefined"==typeof Headers?m.Headers:Headers;return(input,r)=>Ie(void 0,void 0,void 0,(function*(){var c;const l=null!==(c=yield t())&&void 0!==c?c:e;let h=new o(null==r?void 0:r.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${l}`),n(input,Object.assign(Object.assign({},r),{headers:h}))}))};const Pe="2.64.1",Ce={"X-Client-Info":`gotrue-js/${Pe}`},Re="X-Supabase-Api-Version",$e={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};const De=()=>"undefined"!=typeof document,Le={tested:!1,writable:!1},Ne=()=>{if(!De())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Le.tested)return Le.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Le.tested=!0,Le.writable=!0}catch(e){Le.tested=!0,Le.writable=!1}return Le.writable};function Ue(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(e){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}const Me=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(null,97)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Fe=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Ve=async(e,t,data)=>{await e.setItem(t,JSON.stringify(data))},Be=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},ze=async(e,t)=>{await e.removeItem(t)};class qe{constructor(){this.promise=new qe.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function He(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,n,o,c,l,h,d,f="",i=0;for(e=e.replace("-","+").replace("_","/");i<e.length;)c=t.indexOf(e.charAt(i++)),l=t.indexOf(e.charAt(i++)),h=t.indexOf(e.charAt(i++)),d=t.indexOf(e.charAt(i++)),r=c<<2|l>>4,n=(15&l)<<4|h>>2,o=(3&h)<<6|d,f+=String.fromCharCode(r),64!=h&&0!=n&&(f+=String.fromCharCode(n)),64!=d&&0!=o&&(f+=String.fromCharCode(o));return f}(r))}function Ke(e){return("0"+e.toString(16)).substr(-2)}async function Ge(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Je(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let i=0;i<56;i++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Ke).join("")}();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await Ve(e,`${t}-code-verifier`,o);const c=await Ge(n);return[c,n===c?"plain":"s256"]}qe.promiseConstructor=Promise;const We=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Ye extends Error{constructor(e,t,code){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=code}}function Xe(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Qe extends Ye{constructor(e,t,code){super(e,t,code),this.name="AuthApiError",this.status=t,this.code=code}}class Ze extends Ye{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class et extends Ye{constructor(e,t,r,code){super(e,r,code),this.name=t,this.status=r}}class tt extends et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class nt extends et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class it extends et{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class st extends et{constructor(e,details=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=details}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ot extends et{constructor(e,details=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=details}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class at extends et{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ct(e){return Xe(e)&&"AuthRetryableFetchError"===e.name}class lt extends et{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var ut=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const ht=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ft=[502,503,504];async function pt(e){var t;if(!Fe(e))throw new at(ht(e),0);if(ft.includes(e.status))throw new at(ht(e),e.status);let data,r;try{data=await e.json()}catch(e){throw new Ze(ht(e),e)}const n=function(e){const t=e.headers.get(Re);if(!t)return null;if(!t.match(We))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(n&&n.getTime()>=$e["2024-01-01"].timestamp&&"object"==typeof data&&data&&"string"==typeof data.code?r=data.code:"object"==typeof data&&data&&"string"==typeof data.error_code&&(r=data.error_code),r){if("weak_password"===r)throw new lt(ht(data),e.status,(null===(t=data.weak_password)||void 0===t?void 0:t.reasons)||[])}else if("object"==typeof data&&data&&"object"==typeof data.weak_password&&data.weak_password&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.reasons.reduce(((a,i)=>a&&"string"==typeof i),!0))throw new lt(ht(data),e.status,data.weak_password.reasons);throw new Qe(ht(data),e.status||500,r)}const gt=(e,t,r,body)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(body),Object.assign(Object.assign({},n),r))};async function mt(e,t,r,n){var o;const c=Object.assign({},null==n?void 0:n.headers);c[Re]||(c[Re]=$e["2024-01-01"].name),(null==n?void 0:n.jwt)&&(c.Authorization=`Bearer ${n.jwt}`);const l=null!==(o=null==n?void 0:n.query)&&void 0!==o?o:{};(null==n?void 0:n.redirectTo)&&(l.redirect_to=n.redirectTo);const h=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",data=await async function(e,t,r,n,o,body){const c=gt(t,n,o,body);let l;try{l=await e(r,Object.assign({},c))}catch(e){throw console.error(e),new at(ht(e),0)}l.ok||await pt(l);if(null==n?void 0:n.noResolveJson)return l;try{return await l.json()}catch(e){await pt(e)}}(e,t,r+h,{headers:c,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(data):{data:Object.assign({},data),error:null}}function yt(data){var e;let t=null;var r;(function(data){return data.access_token&&data.refresh_token&&data.expires_in})(data)&&(t=Object.assign({},data),data.expires_at||(t.expires_at=(r=data.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:t,user:null!==(e=data.user)&&void 0!==e?e:data},error:null}}function bt(data){const e=yt(data);return!e.error&&data.weak_password&&"object"==typeof data.weak_password&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.message&&"string"==typeof data.weak_password.message&&data.weak_password.reasons.reduce(((a,i)=>a&&"string"==typeof i),!0)&&(e.data.weak_password=data.weak_password),e}function wt(data){var e;return{data:{user:null!==(e=data.user)&&void 0!==e?e:data},error:null}}function vt(data){return{data:data,error:null}}function _t(data){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:o}=data,c=ut(data,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:o},user:Object.assign({},c)},error:null}}function kt(data){return data}var St=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class Et{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Me(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wt})}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,r=St(e,["options"]),body=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(body.new_email=null==r?void 0:r.newEmail,delete body.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:body,headers:this.headers,xform:_t,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(Xe(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,o,c,l,h;try{const d={nextPage:null,lastPage:0,total:0},f=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(o=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==o?o:""},xform:kt});if(f.error)throw f.error;const m=await f.json(),y=null!==(c=f.headers.get("x-total-count"))&&void 0!==c?c:0,w=null!==(h=null===(l=f.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==h?h:[];return w.length>0&&(w.forEach((link=>{const e=parseInt(link.split(";")[0].split("=")[1].substring(0,1)),t=JSON.parse(link.split(";")[1].split("=")[1]);d[`${t}Page`]=e})),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(e){if(Xe(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wt})}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wt})}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{const{data:data,error:t}=await mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:data,error:t}}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Xe(e))return{data:null,error:e};throw e}}}const xt={getItem:e=>Ne()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ne()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ne()&&globalThis.localStorage.removeItem(e)}};function Tt(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ot=!!(globalThis&&Ne()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class It extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jt extends It{}async function At(e,t,r){Ot&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),Ot&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw Ot&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ot)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Ot&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ot&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Pt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ct=3e4;async function Rt(e,t,r){return await r()}class $t{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$t.nextInstanceID,$t.nextInstanceID+=1,this.instanceID>0&&De()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Pt),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Et({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Me(n.fetch),this.lock=n.lock||Rt,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:De()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=At:this.lock=Rt,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ne()?this.storage=xt:(this.memoryStorage={},this.storage=Tt(this.memoryStorage)):(this.memoryStorage={},this.storage=Tt(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pe}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const e=!!De()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:data,error:t}=await this._getSessionFromURL(e);if(t)return this._debug("#_initialize()","error detecting session from URL",t),"Identity is already linked"===(null==t?void 0:t.message)||"Identity is already linked to another user"===(null==t?void 0:t.message)||await this._removeSession(),{error:t};const{session:r,redirectType:n}=data;return this._debug("#_initialize()","detected session in URL",r,"redirect type",n),await this._saveSession(r),setTimeout((async()=>{"recovery"===n?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Xe(e)?{error:e}:{error:new Ze("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{await this._removeSession();const o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:yt}),{data:data,error:c}=o;if(c||!data)return{data:{user:null,session:null},error:c};const l=data.session,h=data.user;return data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let o;if(await this._removeSession(),"email"in e){const{email:r,password:n,options:c}=e;let l=null,h=null;"pkce"===this.flowType&&([l,h]=await Je(this.storage,this.storageKey)),o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==c?void 0:c.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==c?void 0:c.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},code_challenge:l,code_challenge_method:h},xform:yt})}else{if(!("phone"in e))throw new it("You must provide either an email or phone number and a password");{const{phone:t,password:c,options:l}=e;o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:c,data:null!==(r=null==l?void 0:l.data)&&void 0!==r?r:{},channel:null!==(n=null==l?void 0:l.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==l?void 0:l.captchaToken}},xform:yt})}}const{data:data,error:c}=o;if(c||!data)return{data:{user:null,session:null},error:c};const l=data.session,h=data.user;return data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){const{email:r,password:n,options:o}=e;t=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new it("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:o}=e;t=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:bt})}}const{data:data,error:r}=t;return r?{data:{user:null,session:null},error:r}:data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data:Object.assign({user:data.user,session:data.session},data.weak_password?{weakPassword:data.weak_password}:null),error:r}):{data:{user:null,session:null},error:new nt}}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,o;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Be(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/"),{data:data,error:o}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:yt});return await ze(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data:Object.assign(Object.assign({},data),{redirectType:null!=n?n:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new nt}}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:n,access_token:o,nonce:c}=e,l=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:yt}),{data:data,error:h}=l;return h?{data:{user:null,session:null},error:h}:data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data:data,error:h}):{data:{user:null,session:null},error:new nt}}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,o,c;try{if(await this._removeSession(),"email"in e){const{email:n,options:o}=e;let c=null,l=null;"pkce"===this.flowType&&([c,l]=await Je(this.storage,this.storageKey));const{error:h}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(r=null==o?void 0:o.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:c,code_challenge_method:l},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:t,options:r}=e,{data:data,error:l}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(o=null==r?void 0:r.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(c=null==r?void 0:r.channel)&&void 0!==c?c:"sms"}});return{data:{user:null,session:null,messageId:null==data?void 0:data.message_id},error:l}}throw new it("You must provide either an email or phone number.")}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,o;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:data,error:c}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:yt});if(c)throw c;if(!data)throw new Error("An error occurred on token verification.");const l=data.session,h=data.user;return(null==l?void 0:l.access_token)&&(await this._saveSession(l),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{await this._removeSession();let o=null,c=null;return"pkce"===this.flowType&&([o,c]=await Je(this.storage,this.storageKey)),await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:vt})}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new tt;const{error:n}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:o}=e,{error:c}=await mt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:r,type:n,options:o}=e,{data:data,error:c}=await mt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null==data?void 0:data.message_id},error:c}}throw new it("You must provide either an email or phone number and a type")}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Be(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){e=new Proxy(e,{get:(e,t,r)=>("user"===t&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(e,t,r))})}return{data:{session:e},error:null}}const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession((async e=>{var t,r,n;const{data:data,error:o}=e;if(o)throw o;return(null===(t=data.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=data.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:wt}):{data:{user:null},error:new tt}}))}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async r=>{const{data:n,error:o}=r;if(o)throw o;if(!n.session)throw new tt;const c=n.session;let l=null,h=null;"pkce"===this.flowType&&null!=e.email&&([l,h]=await Je(this.storage,this.storageKey));const{data:data,error:d}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:h}),jwt:c.access_token,xform:wt});if(d)throw d;return c.user=data.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(e){if(Xe(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return He(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tt;const t=Date.now()/1e3;let r=t,n=!0,o=null;const c=He(e.access_token);if(c.exp&&(r=c.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:data,error:n}=await this._getUser(e.access_token);if(n)throw n;o={access_token:e.access_token,refresh_token:e.refresh_token,user:data.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(e){if(Xe(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:data,error:n}=t;if(n)throw n;e=null!==(r=data.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new tt;const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!De())throw new st("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new st("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new ot("Not a valid PKCE flow url.");const t=Ue(window.location.href);if(e){if(!t.code)throw new ot("No code detected.");const{data:data,error:e}=await this._exchangeCodeForSession(t.code);if(e)throw e;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:data.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new st(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:o,refresh_token:c,expires_in:l,expires_at:h,token_type:d}=t;if(!(o&&l&&c&&d))throw new st("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let y=f+m;h&&(y=parseInt(h));const w=y-f;1e3*w<=Ct&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const v=y-m;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,y,f);const{data:data,error:_}=await this._getUser(o);if(_)throw _;const k={provider_token:r,provider_refresh_token:n,access_token:o,expires_in:m,expires_at:y,refresh_token:c,token_type:d,user:data.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(e){if(Xe(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const e=Ue(window.location.href);return!(!De()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=Ue(window.location.href),t=await Be(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var r;const{data:data,error:n}=t;if(n)return{error:n};const o=null===(r=data.session)||void 0===r?void 0:r.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Xe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:o}=t;if(o)throw o;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}}))}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await Je(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{const{data:data,error:t}=await this.getUser();if(t)throw t;return{data:{identities:null!==(e=data.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{const{data:data,error:r}=await this._useSession((async t=>{var r,n,o,c,l;const{data:data,error:h}=t;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",d,{headers:this.headers,jwt:null!==(l=null===(c=data.session)||void 0===c?void 0:c.access_token)&&void 0!==l?l:void 0})}));if(r)throw r;return De()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==data?void 0:data.url),{data:{provider:e.provider,url:null==data?void 0:data.url},error:null}}catch(t){if(Xe(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:data,error:o}=t;if(o)throw o;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=data.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(r=async r=>(r>0&&await async function(time){return await new Promise((e=>{setTimeout((()=>e(null)),time)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&ct(t)&&Date.now()+r-o<Ct},new Promise(((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await r(o);if(!n(o,null,t))return void e(t)}catch(e){if(!n(o,e))return void t(e)}})()})))}catch(e){if(this._debug(t,"error",e),Xe(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),De()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Be(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=Math.round(Date.now()/1e3),o=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)<n+10;if(this._debug(t,`session has${o?"":" not"} expired with margin of 10s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),ct(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qe;const{data:data,error:t}=await this._refreshAccessToken(e);if(t)throw t;if(!data.session)throw new tt;await this._saveSession(data.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",data.session);const r={session:data.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(n,"error",e),Xe(e)){const r={session:null,error:e};return ct(e)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}}));if(await Promise.all(o),n.length>0){for(let i=0;i<n.length;i+=1)console.error(n[i]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Ve(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ze(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ct);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/Ct);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof It))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await Je(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;return o?{data:null,error:o}:await mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:data,error:l}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:((null===(n=null==data?void 0:data.totp)||void 0===n?void 0:n.qr_code)&&(data.totp.qr_code=`data:image/svg+xml;utf-8,${data.totp.qr_code}`),{data:data,error:null})}))}catch(e){if(Xe(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;if(o)return{data:null,error:o};const{data:data,error:c}=await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+data.expires_in},data)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",data),{data:data,error:c})}))}catch(e){if(Xe(e))return{data:null,error:e};throw e}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;return o?{data:null,error:o}:await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Xe(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:o}=e;if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(n.access_token);let l=null;c.aal&&(l=c.aal);let h=l;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(h="aal2");return{data:{currentLevel:l,nextLevel:h,currentAuthenticationMethods:c.amr||[]},error:null}}))))}}$t.nextInstanceID=0;var Dt=$t;class Lt extends Dt{constructor(e){super(e)}}var Nt=function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{d(n.next(e))}catch(e){c(e)}}function h(e){try{d(n.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,h)}d((n=n.apply(e,t||[])).next())}))};class Ut{constructor(e,t,r){var n,o,c,l,h,d,f,m;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const y=e.replace(/\/$/,"");this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,this.functionsUrl=`${y}/functions/v1`;const w=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v=function(e,t){const{db:r,auth:n,realtime:o,global:c}=e,{db:l,auth:h,realtime:d,global:f}=t;return{db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},h),n),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign({},f),c)}}(null!=r?r:{},{db:xe,realtime:Oe,auth:Object.assign(Object.assign({},Te),{storageKey:w}),global:Ee});this.storageKey=null!==(o=null===(n=v.auth)||void 0===n?void 0:n.storageKey)&&void 0!==o?o:"",this.headers=null!==(l=null===(c=v.global)||void 0===c?void 0:c.headers)&&void 0!==l?l:{},this.auth=this._initSupabaseAuthClient(null!==(h=v.auth)&&void 0!==h?h:{},this.headers,null===(d=v.global)||void 0===d?void 0:d.fetch),this.fetch=Ae(t,this._getAccessToken.bind(this),null===(f=v.global)||void 0===f?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new E(`${y}/rest/v1`,{headers:this.headers,schema:null===(m=v.db)||void 0===m?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new f(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ke(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Nt(this,void 0,void 0,(function*(){const{data:data}=yield this.auth.getSession();return null!==(t=null===(e=data.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:o,flowType:c,debug:l},h,d){var f;const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lt({url:this.authUrl,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:c,debug:l,fetch:d,hasCustomAuthorizationHeader:null!==(f="Authorization"in this.headers)&&void 0!==f&&f})}_initRealtimeClient(e){return new Z(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,source,t){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==source&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=t?t:null),this.changedAccessToken=t)}}const Mt=(e,t,r)=>new Ut(e,t,r)},235:function(e,t,r){(function(e){e.installComponents=function(component,e){var r="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(r.components=component.exports.options.components),r.components=r.components||{},e)r.components[i]=r.components[i]||e[i];r.functional&&function(component,e){if(component.exports[t])return;component.exports[t]=!0;var r=component.exports.render;component.exports.render=function(t,n){return r(t,Object.assign({},n,{_c:function(t,a,b){return n._c(e[t]||t,a,b)}}))}}(component,r.components)};var t="_functionalComponents"}).call(this,r(37))},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return G})),r.d(t,"b",(function(){return V})),r.d(t,"c",(function(){return F})),r.d(t,"d",(function(){return B})),r.d(t,"e",(function(){return W})),r.d(t,"f",(function(){return J})),r.d(t,"g",(function(){return Y}));var n=r(50),o=r(51),c=r(2);const l=(object,e)=>e.some((e=>object instanceof e));let h,d;const f=new WeakMap,m=new WeakMap,y=new WeakMap,w=new WeakMap,v=new WeakMap;let _={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||y.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return E(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function k(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(x(this),t),E(f.get(this))}:function(...t){return E(e.apply(x(this),t))}:function(t,...r){const n=e.call(x(this),t,...r);return y.set(n,t.sort?t.sort():[t]),E(n)}}function S(e){return"function"==typeof e?k(e):(e instanceof IDBTransaction&&function(e){if(m.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{t(),n()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)}));m.set(e,t)}(e),l(e,h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_):e)}function E(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{t(E(e.result)),n()},c=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",c)}));return t.then((t=>{t instanceof IDBCursor&&f.set(t,e)})).catch((()=>{})),v.set(t,e),t}(e);if(w.has(e))return w.get(e);const t=S(e);return t!==e&&(w.set(e,t),v.set(t,e)),t}const x=e=>v.get(e);const T=["get","getKey","getAll","getAllKeys","count"],O=["put","add","delete","clear"],I=new Map;function j(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(I.get(t))return I.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=O.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!T.includes(r))return;const c=async function(e,...t){const c=this.transaction(e,o?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(t.shift())),(await Promise.all([l[r](...t),o&&c.done]))[0]};return I.set(t,c),c}_=(e=>({...e,get:(t,r,n)=>j(t,r)||e.get(t,r,n),has:(t,r)=>!!j(t,r)||e.has(t,r)}))(_);class A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const component=e.getComponent();return"VERSION"===(null==component?void 0:component.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const P="@firebase/app",C="0.10.0",R=new o.b("@firebase/app"),$="[DEFAULT]",D={[P]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},L=new Map,N=new Map,U=new Map;function M(e,component){try{e.container.addComponent(component)}catch(t){R.debug(`Component ${component.name} failed to register with FirebaseApp ${e.name}`,t)}}function F(component){const e=component.name;if(U.has(e))return R.debug(`There were multiple attempts to register component ${e}.`),!1;U.set(e,component);for(const e of L.values())M(e,component);for(const e of N.values())M(e,component);return!0}function V(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function B(e,t,r=$){V(e,t).clearInstance(r)}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},H=new c.b("app","Firebase",z);class K{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n.a("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw H.create("app-deleted",{appName:this._name})}}const G="10.10.0";function J(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const o=Object.assign({name:$,automaticDataCollectionEnabled:!1},t),l=o.name;if("string"!=typeof l||!l)throw H.create("bad-app-name",{appName:String(l)});if(r||(r=Object(c.g)()),!r)throw H.create("no-options");const h=L.get(l);if(h){if(Object(c.f)(r,h.options)&&Object(c.f)(o,h.config))return h;throw H.create("duplicate-app",{appName:l})}const d=new n.b(l);for(const component of U.values())d.addComponent(component);const f=new K(r,o,d);return L.set(l,f),f}function W(e=$){const t=L.get(e);if(!t&&e===$&&Object(c.g)())return J();if(!t)throw H.create("no-app",{appName:e});return t}function Y(e,t,r){var o;let c=null!==(o=D[e])&&void 0!==o?o:e;r&&(c+=`-${r}`);const l=c.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const e=[`Unable to register library "${c}" with version "${t}":`];return l&&e.push(`library name "${c}" contains illegal characters (whitespace or "/")`),l&&h&&e.push("and"),h&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void R.warn(e.join(" "))}F(new n.a(`${c}-version`,(()=>({library:c,version:t})),"VERSION"))}const X="firebase-heartbeat-database",Q=1,Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=function(e,t,{blocked:r,upgrade:n,blocking:o,terminated:c}={}){const l=indexedDB.open(e,t),h=E(l);return n&&l.addEventListener("upgradeneeded",(e=>{n(E(l.result),e.oldVersion,e.newVersion,E(l.transaction),e)})),r&&l.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),h.then((e=>{c&&e.addEventListener("close",(()=>c())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),h}(X,Q,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(e){console.warn(e)}}}).catch((e=>{throw H.create("idb-open",{originalErrorMessage:e.message})}))),ee}async function re(e,t){try{const r=(await te()).transaction(Z,"readwrite"),n=r.objectStore(Z);await n.put(t,ne(e)),await r.done}catch(e){if(e instanceof c.c)R.warn(e.message);else{const t=H.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});R.warn(t.message)}}}function ne(e){return`${e.name}!${e.options.appId}`}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=se();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){const r=[];let n=e.slice();for(const o of e){const e=r.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),ae(r)>t){e.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),ae(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=Object(c.d)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function se(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(c.k)()&&Object(c.l)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),r=await t.objectStore(Z).get(ne(e));return await t.done,r}catch(e){if(e instanceof c.c)R.warn(e.message);else{const t=H.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});R.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function ae(e){return Object(c.d)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",F(new n.a("platform-logger",(e=>new A(e)),"PRIVATE")),F(new n.a("heartbeat",(e=>new ie(e)),"PRIVATE")),Y(P,C,ce),Y(P,C,"esm2017"),Y("fire-js","")},299:function(e,t,r){var content=r(300);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(122).default)("b384aaf2",content,!0,{sourceMap:!1})},300:function(e,t,r){var n=r(121)((function(i){return i[1]}));n.push([e.i,'/*! tailwindcss v3.4.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.bottom-0{bottom:0}.bottom-10{bottom:2.5rem}.left-0{left:0}.left-1\\/2{left:50%}.top-0{top:0}.top-1\\/2{top:50%}.top-1\\/3{top:33.333333%}.top-10{top:2.5rem}.z-10{z-index:10}.float-start{float:left}.-m-3{margin:-.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.ml-8{margin-left:2rem}.mt-10{margin-top:2.5rem}.mt-16{margin-top:4rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.h-16{height:4rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-32{height:8rem}.h-36{height:9rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-auto{height:auto}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-10\\/12{width:83.333333%}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-32{width:8rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-full{width:100%}.max-w-4xl{max-width:56rem}.grow{flex-grow:1}.-translate-x-1\\/2{--tw-translate-x:-50%;transform:translate(-50%,var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x),-50%) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2,.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-10{gap:2.5rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-5{gap:1.25rem}.gap-8{gap:2rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:.5rem;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(.5rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-scroll{overflow-y:scroll}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-blue-500{--tw-border-opacity:1;border-color:#3b82f6}@supports (color:rgb(0 0 0/0)){.border-blue-500{border-color:rgb(59 130 246/var(--tw-border-opacity))}}.border-gray-200{--tw-border-opacity:1;border-color:#e5e7eb}@supports (color:rgb(0 0 0/0)){.border-gray-200{border-color:rgb(229 231 235/var(--tw-border-opacity))}}.border-green-300{--tw-border-opacity:1;border-color:#86efac}@supports (color:rgb(0 0 0/0)){.border-green-300{border-color:rgb(134 239 172/var(--tw-border-opacity))}}.border-orange-300{--tw-border-opacity:1;border-color:#fdba74}@supports (color:rgb(0 0 0/0)){.border-orange-300{border-color:rgb(253 186 116/var(--tw-border-opacity))}}.border-red-300{--tw-border-opacity:1;border-color:#fca5a5}@supports (color:rgb(0 0 0/0)){.border-red-300{border-color:rgb(252 165 165/var(--tw-border-opacity))}}.bg-black{--tw-bg-opacity:1;background-color:#000}@supports (color:rgb(0 0 0/0)){.bg-black{background-color:rgb(0 0 0/var(--tw-bg-opacity))}}.bg-blue-500{--tw-bg-opacity:1;background-color:#3b82f6}@supports (color:rgb(0 0 0/0)){.bg-blue-500{background-color:rgb(59 130 246/var(--tw-bg-opacity))}}.bg-blue-600{--tw-bg-opacity:1;background-color:#2563eb}@supports (color:rgb(0 0 0/0)){.bg-blue-600{background-color:rgb(37 99 235/var(--tw-bg-opacity))}}.bg-blue-700{--tw-bg-opacity:1;background-color:#1d4ed8}@supports (color:rgb(0 0 0/0)){.bg-blue-700{background-color:rgb(29 78 216/var(--tw-bg-opacity))}}.bg-gray-100{--tw-bg-opacity:1;background-color:#f3f4f6}@supports (color:rgb(0 0 0/0)){.bg-gray-100{background-color:rgb(243 244 246/var(--tw-bg-opacity))}}.bg-gray-200{--tw-bg-opacity:1;background-color:#e5e7eb}@supports (color:rgb(0 0 0/0)){.bg-gray-200{background-color:rgb(229 231 235/var(--tw-bg-opacity))}}.bg-gray-400{--tw-bg-opacity:1;background-color:#9ca3af}@supports (color:rgb(0 0 0/0)){.bg-gray-400{background-color:rgb(156 163 175/var(--tw-bg-opacity))}}.bg-gray-50{--tw-bg-opacity:1;background-color:#f9fafb}@supports (color:rgb(0 0 0/0)){.bg-gray-50{background-color:rgb(249 250 251/var(--tw-bg-opacity))}}.bg-gray-600{--tw-bg-opacity:1;background-color:#4b5563}@supports (color:rgb(0 0 0/0)){.bg-gray-600{background-color:rgb(75 85 99/var(--tw-bg-opacity))}}.bg-gray-700{--tw-bg-opacity:1;background-color:#374151}@supports (color:rgb(0 0 0/0)){.bg-gray-700{background-color:rgb(55 65 81/var(--tw-bg-opacity))}}.bg-gray-900{--tw-bg-opacity:1;background-color:#111827}@supports (color:rgb(0 0 0/0)){.bg-gray-900{background-color:rgb(17 24 39/var(--tw-bg-opacity))}}.bg-green-100{--tw-bg-opacity:1;background-color:#dcfce7}@supports (color:rgb(0 0 0/0)){.bg-green-100{background-color:rgb(220 252 231/var(--tw-bg-opacity))}}.bg-green-500{--tw-bg-opacity:1;background-color:#22c55e}@supports (color:rgb(0 0 0/0)){.bg-green-500{background-color:rgb(34 197 94/var(--tw-bg-opacity))}}.bg-green-800{--tw-bg-opacity:1;background-color:#166534}@supports (color:rgb(0 0 0/0)){.bg-green-800{background-color:rgb(22 101 52/var(--tw-bg-opacity))}}.bg-green-900{--tw-bg-opacity:1;background-color:#14532d}@supports (color:rgb(0 0 0/0)){.bg-green-900{background-color:rgb(20 83 45/var(--tw-bg-opacity))}}.bg-orange-100{--tw-bg-opacity:1;background-color:#ffedd5}@supports (color:rgb(0 0 0/0)){.bg-orange-100{background-color:rgb(255 237 213/var(--tw-bg-opacity))}}.bg-orange-500{--tw-bg-opacity:1;background-color:#f97316}@supports (color:rgb(0 0 0/0)){.bg-orange-500{background-color:rgb(249 115 22/var(--tw-bg-opacity))}}.bg-red-100{--tw-bg-opacity:1;background-color:#fee2e2}@supports (color:rgb(0 0 0/0)){.bg-red-100{background-color:rgb(254 226 226/var(--tw-bg-opacity))}}.bg-red-500{--tw-bg-opacity:1;background-color:#ef4444}@supports (color:rgb(0 0 0/0)){.bg-red-500{background-color:rgb(239 68 68/var(--tw-bg-opacity))}}.bg-white{--tw-bg-opacity:1;background-color:#fff}@supports (color:rgb(0 0 0/0)){.bg-white{background-color:rgb(255 255 255/var(--tw-bg-opacity))}}.bg-yellow-500{--tw-bg-opacity:1;background-color:#eab308}@supports (color:rgb(0 0 0/0)){.bg-yellow-500{background-color:rgb(234 179 8/var(--tw-bg-opacity))}}.bg-opacity-10{--tw-bg-opacity:0.1}.bg-opacity-15{--tw-bg-opacity:0.15}.bg-opacity-20{--tw-bg-opacity:0.2}.bg-opacity-40{--tw-bg-opacity:0.4}.bg-opacity-80{--tw-bg-opacity:0.8}.bg-opacity-90{--tw-bg-opacity:0.9}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.from-transparent{--tw-gradient-from:#0000 var(--tw-gradient-from-position);--tw-gradient-to:#0000 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.to-black{--tw-gradient-to:#000 var(--tw-gradient-to-position)}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-10{padding-bottom:2.5rem;padding-top:2.5rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-20{padding-bottom:5rem;padding-top:5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.pb-10{padding-bottom:2.5rem}.pt-4{padding-top:1rem}.pt-5{padding-top:1.25rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-7{line-height:1.75rem}.text-black{--tw-text-opacity:1;color:#000}@supports (color:rgb(0 0 0/0)){.text-black{color:rgb(0 0 0/var(--tw-text-opacity))}}.text-blue-500{--tw-text-opacity:1;color:#3b82f6}@supports (color:rgb(0 0 0/0)){.text-blue-500{color:rgb(59 130 246/var(--tw-text-opacity))}}.text-gray-200{--tw-text-opacity:1;color:#e5e7eb}@supports (color:rgb(0 0 0/0)){.text-gray-200{color:rgb(229 231 235/var(--tw-text-opacity))}}.text-gray-300{--tw-text-opacity:1;color:#d1d5db}@supports (color:rgb(0 0 0/0)){.text-gray-300{color:rgb(209 213 219/var(--tw-text-opacity))}}.text-gray-600{--tw-text-opacity:1;color:#4b5563}@supports (color:rgb(0 0 0/0)){.text-gray-600{color:rgb(75 85 99/var(--tw-text-opacity))}}.text-gray-700{--tw-text-opacity:1;color:#374151}@supports (color:rgb(0 0 0/0)){.text-gray-700{color:rgb(55 65 81/var(--tw-text-opacity))}}.text-gray-800{--tw-text-opacity:1;color:#1f2937}@supports (color:rgb(0 0 0/0)){.text-gray-800{color:rgb(31 41 55/var(--tw-text-opacity))}}.text-green-500{--tw-text-opacity:1;color:#22c55e}@supports (color:rgb(0 0 0/0)){.text-green-500{color:rgb(34 197 94/var(--tw-text-opacity))}}.text-green-700{--tw-text-opacity:1;color:#15803d}@supports (color:rgb(0 0 0/0)){.text-green-700{color:rgb(21 128 61/var(--tw-text-opacity))}}.text-orange-500{--tw-text-opacity:1;color:#f97316}@supports (color:rgb(0 0 0/0)){.text-orange-500{color:rgb(249 115 22/var(--tw-text-opacity))}}.text-orange-700{--tw-text-opacity:1;color:#c2410c}@supports (color:rgb(0 0 0/0)){.text-orange-700{color:rgb(194 65 12/var(--tw-text-opacity))}}.text-red-700{--tw-text-opacity:1;color:#b91c1c}@supports (color:rgb(0 0 0/0)){.text-red-700{color:rgb(185 28 28/var(--tw-text-opacity))}}.text-white{--tw-text-opacity:1;color:#fff}@supports (color:rgb(0 0 0/0)){.text-white{color:rgb(255 255 255/var(--tw-text-opacity))}}.underline{text-decoration-line:underline}.opacity-80{opacity:.8}.shadow{--tw-shadow:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.hover\\:bg-blue-800:hover{--tw-bg-opacity:1;background-color:#1e40af}@supports (color:rgb(0 0 0/0)){.hover\\:bg-blue-800:hover{background-color:rgb(30 64 175/var(--tw-bg-opacity))}}.hover\\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:#e5e7eb}@supports (color:rgb(0 0 0/0)){.hover\\:bg-gray-200:hover{background-color:rgb(229 231 235/var(--tw-bg-opacity))}}.hover\\:bg-gray-400:hover{--tw-bg-opacity:1;background-color:#9ca3af}@supports (color:rgb(0 0 0/0)){.hover\\:bg-gray-400:hover{background-color:rgb(156 163 175/var(--tw-bg-opacity))}}.hover\\:bg-green-200:hover{--tw-bg-opacity:1;background-color:#bbf7d0}@supports (color:rgb(0 0 0/0)){.hover\\:bg-green-200:hover{background-color:rgb(187 247 208/var(--tw-bg-opacity))}}.hover\\:bg-orange-200:hover{--tw-bg-opacity:1;background-color:#fed7aa}@supports (color:rgb(0 0 0/0)){.hover\\:bg-orange-200:hover{background-color:rgb(254 215 170/var(--tw-bg-opacity))}}.hover\\:bg-red-200:hover{--tw-bg-opacity:1;background-color:#fecaca}@supports (color:rgb(0 0 0/0)){.hover\\:bg-red-200:hover{background-color:rgb(254 202 202/var(--tw-bg-opacity))}}.hover\\:text-gray-800:hover{--tw-text-opacity:1;color:#1f2937}@supports (color:rgb(0 0 0/0)){.hover\\:text-gray-800:hover{color:rgb(31 41 55/var(--tw-text-opacity))}}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:shadow:hover{--tw-shadow:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.group:hover .group-hover\\:hidden{display:none}@media (min-width:640px){.sm\\:items-center{align-items:center}.sm\\:rounded-lg{border-radius:.5rem}.sm\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\\:pt-0{padding-top:0}}@media (min-width:768px){.md\\:relative{position:relative}.md\\:my-10{margin-bottom:2.5rem;margin-top:2.5rem}.md\\:mb-5{margin-bottom:1.25rem}.md\\:mt-10{margin-top:2.5rem}.md\\:grid{display:grid}.md\\:h-32{height:8rem}.md\\:h-96{height:24rem}.md\\:h-full{height:100%}.md\\:w-1\\/2{width:50%}.md\\:w-11\\/12{width:91.666667%}.md\\:w-auto{width:auto}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:items-start{align-items:flex-start}.md\\:gap-3{gap:.75rem}.md\\:gap-5{gap:1.25rem}.md\\:rounded-lg{border-radius:.5rem}.md\\:py-24{padding-bottom:6rem;padding-top:6rem}.md\\:pt-0{padding-top:0}.md\\:text-left{text-align:left}.md\\:text-9xl{font-size:8rem;line-height:1}}@media (min-width:1024px){.lg\\:px-8{padding-left:2rem;padding-right:2rem}}@media (min-width:1280px){.xl\\:w-10\\/12{width:83.333333%}}',""]),n.locals={},e.exports=n},323:function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function l(e,t,r){return e.concat(t).map((function(e){return c(e,r)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function d(e,t){try{return t in e}catch(e){return!1}}function u(e,i,a){(a=a||{}).arrayMerge=a.arrayMerge||l,a.isMergeableObject=a.isMergeableObject||n,a.cloneUnlessOtherwiseSpecified=c;var t=Array.isArray(i);return t===Array.isArray(e)?t?a.arrayMerge(e,i,a):function(e,t,r){var i={};return r.isMergeableObject(e)&&h(e).forEach((function(t){i[t]=c(e[t],r)})),h(t).forEach((function(n){(function(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(i[n]=d(e,n)&&r.isMergeableObject(t[n])?function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u}(n,r)(e[n],t[n],r):c(t[n],r))})),i}(e,i,a):c(i,a)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return u(e,r,t)}),{})}},50:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return h}));var n=r(2);class o{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const c="[DEFAULT]";class l{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=component,this.shouldAutoInitialize()){if(function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:c})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=c){return this.instances.has(e)}getOptions(e=c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(n,o);const c=this.instances.get(n);return c&&e(c,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===c?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e=c){return this.component?this.component.multipleInstances?e:c:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(e){this.name=e,this.providers=new Map}addComponent(component){const e=this.getProvider(component.name);if(e.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);e.setComponent(component)}addOrOverwriteComponent(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},51:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return y}));const n=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const c={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,h={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},d=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=h[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...r)};class f{constructor(e){this.name=e,this._logLevel=l,this._logHandler=d,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?c[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}function m(e){n.forEach((t=>{t.setLogLevel(e)}))}function y(e,t){for(const r of n){let n=null;t&&t.level&&(n=c[t.level]),r.userLogHandler=null===e?null:(t,r,...c)=>{const l=c.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");r>=(null!=n?n:t.logLevel)&&e({level:o[r].toLowerCase(),message:l,args:c,type:t.name})}}}},80:function(e,t,r){"use strict";var n={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var r=t.parent,n=t.slots,o=t.props,c=n(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return r._isMounted?l:(r.$once("hook:mounted",(function(){r.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=n},97:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"fetch",(function(){return o})),r.d(t,"Headers",(function(){return c})),r.d(t,"Request",(function(){return l})),r.d(t,"Response",(function(){return h}));var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();const o=n.fetch;t.default=n.fetch.bind(n);const c=n.Headers,l=n.Request,h=n.Response}.call(this,r(37))}}]);