(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{347:function(e,t,n){"use strict";n.r(t);n(34),n(13);var r={name:"QuestionVoice",props:{question:{type:Object,required:!0},showCorrectAnswer:{type:Boolean,default:!1}},data:function(){return{answer:null,gridColsCount:null,isListening:!1,orderElementCount:null,voiceRecorder:null}},created:function(){},mounted:function(){var e=this;this.voiceRecorder=new webkitSpeechRecognition,this.voiceRecorder?(this.voiceRecorder.lang="fr-FR",this.voiceRecorder.onstart=function(){console.log("record started"),e.isListening=!0},this.voiceRecorder.onresult=function(t){console.log("record ended",t.results);try{var n,r=t.results[0][0].transcript;t.results[0][0].confidence;if(e.answer=r,e.answer)console.log("correct answers",null===(n=e.question)||void 0===n?void 0:n.correctAnswers,"answer",e.answer,"isCorrect",e.isAnswerCorrect),e.$emit("answer",{content:e.answer,isCorrect:e.isAnswerCorrect})}catch(e){console.log("error",e)}e.isListening=!1}):console.log("no recorder")},computed:{isAnswerCorrect:function(){var e,t=this;return!!this.answer&&(null===(e=this.question)||void 0===e||null===(e=e.correctAnswers)||void 0===e?void 0:e.filter((function(e){return e.toLowerCase()===t.answer.toLowerCase()})))}},methods:{startListening:function(){this.isListening=!0,this.voiceRecorder.start()}}},o=n(67),component=Object(o.a)(r,(function(){var e,t,n,r=this,o=r._self._c;return o("section",{staticClass:"flex flex-col justify-around h-full p-4"},[o("div",{staticClass:"flex flex-col gap-3 h-full mb-5"},[o("h2",{staticClass:"font-medium p-5 mb-3 text-2xl"},[r._v("\n      "+r._s(null===(e=r.question)||void 0===e?void 0:e.question)+"\n    ")]),r._v(" "),o("div",{staticClass:"rounded flex h-full items-center justify-center bg-gray-200 bg-opacity-10 text-gray-800"},[o("img",{staticClass:"object-contain h-auto w-full rounded",attrs:{src:null===(t=r.question)||void 0===t?void 0:t.image,alt:"Image de la question"}})]),r._v(" "),r.answer?o("div",{staticClass:"text-gray-800 rounded flex gap-2",class:r.gridColsCount},[o("span",{staticClass:"grow rounded text-gray-800 bg-gray-200 shadow p-2",class:{"bg-green-500 text-white":r.showCorrectAnswer&&r.isAnswerCorrect,"bg-red-500 text-white":r.showCorrectAnswer&&!r.isAnswerCorrect}},[r._v("\n        "+r._s(null!==(n=r.answer)&&void 0!==n?n:"Parlez pour r√©pondre")+"\n      ")])]):r._e()]),r._v(" "),o("transition",[o("div",{staticClass:"relative flex justify-center items-center"},[r.isListening?o("div",{staticClass:"transition-all duration-300 ease-out absolute rounded-full w-16 h-16 animate-ping bg-gray-900"}):r._e(),r._v(" "),o("button",{staticClass:"transition-all duration-300 ease-out relative flex justify-center items-center rounded-full shadow bg-white bg-opacity-15 w-24 h-24",class:[r.isListening?" text-blue-500":"text-white"],on:{click:function(e){return r.startListening()}}},[o("ion-icon",{class:[],attrs:{name:"mic-outline",size:"large"}})],1)])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);