(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{327:function(e,t,n){"use strict";var r=n(3),o=n(6),c=n(68),l=n(228),f=n(227),d=n(5),h=RangeError,m=String,x=Math.floor,v=o(f),w=o("".slice),k=o(1..toFixed),T=function(e,t,n){return 0===t?n:t%2==1?T(e,t-1,n*e):T(e*e,t/2,n)},_=function(data,e,t){for(var n=-1,r=t;++n<6;)r+=e*data[n],data[n]=r%1e7,r=x(r/1e7)},A=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=x(n/e),n=n%e*1e7},y=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=m(data[e]);s=""===s?t:s+v("0",7-t.length)+t}return s};r({target:"Number",proto:!0,forced:d((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!d((function(){k({})}))},{toFixed:function(e){var t,n,r,o,f=l(this),d=c(e),data=[0,0,0,0,0,0],x="",k="0";if(d<0||d>20)throw new h("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return m(f);if(f<0&&(x="-",f=-f),f>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(f*T(2,69,1))-69)<0?f*T(2,-t,1):f/T(2,t,1),n*=4503599627370496,(t=52-t)>0){for(_(data,0,n),r=d;r>=7;)_(data,1e7,0),r-=7;for(_(data,T(10,r,1),0),r=t-1;r>=23;)A(data,1<<23),r-=23;A(data,1<<r),_(data,1,1),A(data,2),k=y(data)}else _(data,0,n),_(data,1<<-t,0),k=y(data)+v("0",d);return k=d>0?x+((o=k.length)<=d?"0."+v("0",d-o)+k:w(k,0,o-d)+"."+w(k,o-d)):x+k}})},335:function(e,t,n){"use strict";n.r(t);n(43),n(327);var r=n(4),o=(n(30),n(159),n(44),n(226),n(35),n(81),{name:"QuizzEnded",props:{correctAnswerCount:{required:!0,type:Number,default:0},questionCount:{required:!0,type:Number,default:0}},data:function(){return{MARK_TOTAL:20,score:0,platforms:[{name:"whatsapp",icon:"logo-whatsapp"},{name:"facebook",icon:"logo-facebook",link:""},{name:"twitter",icon:"logo-twitter",link:""},{name:"linkedin",icon:"logo-linkedin",link:""}]}},mounted:function(){this.calcScore()},computed:{},methods:{calcScore:function(){var e,t=100*this.correctAnswerCount/(null!==(e=this.questionCount)&&void 0!==e?e:0),n=100/this.MARK_TOTAL;this.score=t/n,this.score==this.MARK_TOTAL&&this.throwConfetti()},getShareLink:function(e){if(e){var t="https://code-de-la-route.amane.dev",data={title:"Euss, esseu tu peux ?",text:"J'ai eu "+(this.score.toFixed(0)+"/"+this.MARK_TOTAL)+" au test de Code de la Route en ligne",url:t},n=Object.keys(data).map((function(e){return data[e]})).join("\n"),link=t;return"whatsapp"==e&&(link="whatsapp://send?text=".concat(n)),"facebook"==e&&(link="https://www.facebook.com/sharer/sharer.php?u=".concat(n)),"linkedin"==e&&(link="https://www.linkedin.com/shareArticle?url=".concat(n)),"twitter"==e&&(link="https://twitter.com/intent/tweet?url=".concat(n)),link}},goBackToQuizzList:function(){this.$router.back()},goToMenu:function(){this.$router.push({name:"index"})},restart:function(){this.$emit("restart")},shareScore:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("shareScore",e),"https://code-de-la-route.amane.dev","",e){n.next=25;break}if(r=t.score.toFixed(0)+"/"+t.MARK_TOTAL,data={title:"Euss, esseu tu peux ?",text:"J'ai eu "+r+" au test de Code de la Route en ligne",url:"https://code-de-la-route.amane.dev"},o=Object.keys(data).map((function(e){return data[e]})).join("\n"),navigator.canShare){n.next=12;break}console.log("Sharing not supported"),navigator.clipboard.writeText(o),n.next=24;break;case 12:if(!navigator.canShare(data)){n.next=23;break}return n.prev=13,n.next=16,navigator.share(data);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(13),console.log("could not share",n.t0);case 21:n.next=24;break;case 23:navigator.clipboard.writeText(o);case 24:return n.abrupt("return");case 25:case"end":return n.stop()}}),n,null,[[13,18]])})))()},throwConfetti:function(){var e=this;setTimeout((function(){console.log("confetti !!"),e.$confetti.start(),setTimeout((function(){e.$confetti.stop()}),2e3)}),500)}}}),c=n(67),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"fixed transition-all duration-300 ease-out top-0 left-0 w-full h-full flex flex-col gap-3 justify-center items-center bg-gray-700 bg-opacity-90",attrs:{id:"quizz-ended"}},[t("h3",{staticClass:"text-2xl mb-10"},[e._v("Quizz Terminé")]),e._v(" "),t("div",{staticClass:"rounded-full text-6xl font-bold text-white flex justify-center items-center w-32 h-32 animated-pulse",class:{"bg-green-500":e.score==e.MARK_TOTAL,"bg-blue-500":e.score<e.MARK_TOTAL,"bg-orange-500":e.score<=e.MARK_TOTAL/2,"bg-red-500":e.score<=e.MARK_TOTAL/3},attrs:{id:"score-container"}},[e._v("\n    "+e._s(e.score.toFixed(0))+"/"+e._s(e.MARK_TOTAL)+"\n  ")]),e._v(" "),t("div",{staticClass:"text-center flex flex-col justify-center items-center gap-2 mt-5"},[t("span",{staticClass:"rounded-full p-2 w-16 h-16 flex justify-center items-center bg-white bg-opacity-40",on:{click:function(t){return e.shareScore()}}},[t("ion-icon",{attrs:{name:"arrow-redo-outline",size:"large"}})],1),e._v(" "),t("span",{on:{click:function(t){return e.shareScore()}}},[e._v(" Partager mon score ")]),e._v(" "),t("div",{staticClass:"flex justify-center gap-3 items-center"},e._l(e.platforms,(function(n){return t("a",{key:n.name,attrs:{href:e.getShareLink(n.name),target:"_blank"}},[t("ion-icon",{attrs:{name:n.icon,size:"large"}})],1)})),0)]),e._v(" "),t("div",{staticClass:"flex flex-col gap-2 mt-10"},[t("div",{staticClass:"flex gap-2"},[t("button",{staticClass:"flex items-center justify-center gap-2 px-3 py-2 rounded bg-blue-500",on:{click:e.goBackToQuizzList}},[t("ion-icon",{attrs:{name:"return-up-back-outline"}}),e._v("\n        Retour\n      ")],1),e._v(" "),t("button",{staticClass:"flex items-center justify-center gap-2 px-3 py-2 rounded bg-green-500",on:{click:e.restart}},[t("ion-icon",{attrs:{name:"refresh-outline"}}),e._v("\n        Réessayer\n      ")],1)]),e._v(" "),t("button",{staticClass:"flex items-center justify-center gap-2 px-3 py-2 rounded bg-red-500",on:{click:e.goToMenu}},[t("ion-icon",{attrs:{name:"home-outline"}}),e._v("\n      Menu\n    ")],1)])])}),[],!1,null,null,null);t.default=component.exports}}]);